"use strict";(()=>{var $o=Object.create;var qr=Object.defineProperty;var Xo=Object.getOwnPropertyDescriptor;var Ho=Object.getOwnPropertyNames;var Go=Object.getPrototypeOf,Vo=Object.prototype.hasOwnProperty;var I=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var jo=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Ho(r))!Vo.call(e,a)&&a!==t&&qr(e,a,{get:()=>r[a],enumerable:!(n=Xo(r,a))||n.enumerable});return e};var Fr=(e,r,t)=>(t=e!=null?$o(Go(e)):{},jo(r||!e||!e.__esModule?qr(t,"default",{value:e,enumerable:!0}):t,e));var Se=I((wd,Ur)=>{Ur.exports={random:Br,randomIterator:Ko};function Br(e){var r=typeof e=="number"?e:+new Date,t=function(){return r=r+2127912214+(r<<12)&4294967295,r=(r^3345072700^r>>>19)&4294967295,r=r+374761393+(r<<5)&4294967295,r=(r+3550635116^r<<9)&4294967295,r=r+4251993797+(r<<3)&4294967295,r=(r^3042594569^r>>>16)&4294967295,(r&268435455)/268435456};return{next:function(n){return Math.floor(t()*n)},nextDouble:function(){return t()}}}function Ko(e,r){var t=r||Br();if(typeof t.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(n){var a,i,f;for(a=e.length-1;a>0;--a)i=t.next(a+1),f=e[i],e[i]=e[a],e[a]=f,n(f);e.length&&n(e[0])},shuffle:function(){var n,a,i;for(n=e.length-1;n>0;--n)a=t.next(n+1),i=e[a],e[a]=e[n],e[n]=i;return e}}}});var ge=I((md,Yr)=>{Yr.exports=Zr;function Zr(e,r){var t;if(e||(e={}),r){for(t in r)if(r.hasOwnProperty(t)){var n=e.hasOwnProperty(t),a=typeof r[t],i=!n||typeof e[t]!==a;i?e[t]=r[t]:a==="object"&&(e[t]=Zr(e[t],r[t]))}}return e}});var we=I((xd,$r)=>{$r.exports=function(e){Qo(e);var r=Wo(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function Wo(e){var r=Object.create(null);return{on:function(t,n,a){if(typeof n!="function")throw new Error("callback is expected to be a function");var i=r[t];return i||(i=r[t]=[]),i.push({callback:n,ctx:a}),e},off:function(t,n){var a=typeof t>"u";if(a)return r=Object.create(null),e;if(r[t]){var i=typeof n!="function";if(i)delete r[t];else for(var f=r[t],o=0;o<f.length;++o)f[o].callback===n&&f.splice(o,1)}return e},fire:function(t){var n=r[t];if(!n)return e;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var i=0;i<n.length;++i){var f=n[i];f.callback.apply(f.ctx,a)}return e}}}function Qo(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],t=0;t<r.length;++t)if(e.hasOwnProperty(r[t]))throw new Error("Subject cannot be eventified, since it already has property '"+r[t]+"'")}});var Hr=I((bd,Xr)=>{Xr.exports="0.10.1"});var Kr=I((yd,jr)=>{jr.exports=ef;var Jo=we();function ef(e){e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now own each graph
is considered to be not a multigraph by default (each edge is unique).`),e.multigraph=e.uniqueLinkId),e.multigraph===void 0&&(e.multigraph=!1);var r=typeof Object.create=="function"?Object.create(null):{},t=[],n={},a=0,i=0,f=ne(),o=e.multigraph?R:p,h=[],s=F,u=F,E=F,c=F,d={addNode:L,addLink:x,removeLink:P,removeNode:v,getNode:k,getNodesCount:function(){return a},getLinksCount:function(){return t.length},getLinks:A,forEachNode:f,forEachLinkedNode:_,forEachLink:l,beginUpdate:E,endUpdate:c,clear:N,hasLink:b,hasNode:k,getLink:b};return Jo(d),w(),d;function w(){var g=d.on;d.on=m;function m(){return d.beginUpdate=E=$,d.endUpdate=c=re,s=S,u=y,d.on=g,g.apply(d,arguments)}}function S(g,m){h.push({link:g,changeType:m})}function y(g,m){h.push({node:g,changeType:m})}function L(g,m){if(g===void 0)throw new Error("Invalid node identifier");E();var T=k(g);return T?(T.data=m,u(T,"update")):(T=new tf(g,m),a++,u(T,"add")),r[g]=T,c(),T}function k(g){return r[g]}function v(g){var m=k(g);if(!m)return!1;E();var T=m.links;if(T){m.links=null;for(var z=0;z<T.length;++z)P(T[z])}return delete r[g],a--,u(m,"remove"),c(),!0}function x(g,m,T){E();var z=k(g)||L(g),M=k(m)||L(m),D=o(g,m,T);return t.push(D),Gr(z,D),g!==m&&Gr(M,D),s(D,"add"),c(),D}function p(g,m,T){var z=Dt(g,m);return new Vr(g,m,T,z)}function R(g,m,T){var z=Dt(g,m),M=n.hasOwnProperty(z);if(M||b(g,m)){M||(n[z]=0);var D="@"+ ++n[z];z=Dt(g+D,m+D)}return new Vr(g,m,T,z)}function A(g){var m=k(g);return m?m.links:null}function P(g){if(!g)return!1;var m=Ct(g,t);if(m<0)return!1;E(),t.splice(m,1);var T=k(g.fromId),z=k(g.toId);return T&&(m=Ct(g,T.links),m>=0&&T.links.splice(m,1)),z&&(m=Ct(g,z.links),m>=0&&z.links.splice(m,1)),s(g,"remove"),c(),!0}function b(g,m){var T=k(g),z;if(!T||!T.links)return null;for(z=0;z<T.links.length;++z){var M=T.links[z];if(M.fromId===g&&M.toId===m)return M}return null}function N(){E(),f(function(g){v(g.id)}),c()}function l(g){var m,T;if(typeof g=="function")for(m=0,T=t.length;m<T;++m)g(t[m])}function _(g,m,T){var z=k(g);if(z&&z.links&&typeof m=="function")return T?O(z.links,g,m):C(z.links,g,m)}function C(g,m,T){for(var z,M=0;M<g.length;++M){var D=g[M],q=D.fromId===m?D.toId:D.fromId;if(z=T(r[q],D),z)return!0}}function O(g,m,T){for(var z,M=0;M<g.length;++M){var D=g[M];if(D.fromId===m&&(z=T(r[D.toId],D),z))return!0}}function F(){}function $(){i+=1}function re(){i-=1,i===0&&h.length>0&&(d.fire("changed",h),h.length=0)}function ne(){return Object.keys?W:Z}function W(g){if(typeof g=="function"){for(var m=Object.keys(r),T=0;T<m.length;++T)if(g(r[m[T]]))return!0}}function Z(g){if(typeof g=="function"){var m;for(m in r)if(g(r[m]))return!0}}}function Ct(e,r){if(!r)return-1;if(r.indexOf)return r.indexOf(e);var t=r.length,n;for(n=0;n<t;n+=1)if(r[n]===e)return n;return-1}function tf(e,r){this.id=e,this.links=null,this.data=r}function Gr(e,r){e.links?e.links.push(r):e.links=[r]}function Vr(e,r,t,n){this.fromId=e,this.toId=r,this.data=t,this.id=n}function Dt(e,r){return e.toString()+"\u{1F449} "+r.toString()}});var Qr=I((Ed,Wr)=>{Wr.exports=function(e){nf(e);var r=rf(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function rf(e){var r=Object.create(null);return{on:function(t,n,a){if(typeof n!="function")throw new Error("callback is expected to be a function");var i=r[t];return i||(i=r[t]=[]),i.push({callback:n,ctx:a}),e},off:function(t,n){var a=typeof t>"u";if(a)return r=Object.create(null),e;if(r[t]){var i=typeof n!="function";if(i)delete r[t];else for(var f=r[t],o=0;o<f.length;++o)f[o].callback===n&&f.splice(o,1)}return e},fire:function(t){var n=r[t];if(!n)return e;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var i=0;i<n.length;++i){var f=n[i];f.callback.apply(f.ctx,a)}return e}}}function nf(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],t=0;t<r.length;++t)if(e.hasOwnProperty(r[t]))throw new Error("Subject cannot be eventified, since it already has property '"+r[t]+"'")}});var rn=I((kd,tn)=>{tn.exports=of;var af=Qr();function of(e){e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now own each graph
is considered to be not a multigraph by default (each edge is unique).`),e.multigraph=e.uniqueLinkId),e.multigraph===void 0&&(e.multigraph=!1);var r=typeof Object.create=="function"?Object.create(null):{},t=[],n={},a=0,i=0,f=ne(),o=e.multigraph?R:p,h=[],s=F,u=F,E=F,c=F,d={addNode:L,addLink:x,removeLink:P,removeNode:v,getNode:k,getNodesCount:function(){return a},getLinksCount:function(){return t.length},getLinks:A,forEachNode:f,forEachLinkedNode:_,forEachLink:l,beginUpdate:E,endUpdate:c,clear:N,hasLink:b,hasNode:k,getLink:b};return af(d),w(),d;function w(){var g=d.on;d.on=m;function m(){return d.beginUpdate=E=$,d.endUpdate=c=re,s=S,u=y,d.on=g,g.apply(d,arguments)}}function S(g,m){h.push({link:g,changeType:m})}function y(g,m){h.push({node:g,changeType:m})}function L(g,m){if(g===void 0)throw new Error("Invalid node identifier");E();var T=k(g);return T?(T.data=m,u(T,"update")):(T=new ff(g,m),a++,u(T,"add")),r[g]=T,c(),T}function k(g){return r[g]}function v(g){var m=k(g);if(!m)return!1;E();var T=m.links;if(T){m.links=null;for(var z=0;z<T.length;++z)P(T[z])}return delete r[g],a--,u(m,"remove"),c(),!0}function x(g,m,T){E();var z=k(g)||L(g),M=k(m)||L(m),D=o(g,m,T);return t.push(D),Jr(z,D),g!==m&&Jr(M,D),s(D,"add"),c(),D}function p(g,m,T){var z=Pt(g,m);return new en(g,m,T,z)}function R(g,m,T){var z=Pt(g,m),M=n.hasOwnProperty(z);if(M||b(g,m)){M||(n[z]=0);var D="@"+ ++n[z];z=Pt(g+D,m+D)}return new en(g,m,T,z)}function A(g){var m=k(g);return m?m.links:null}function P(g){if(!g)return!1;var m=zt(g,t);if(m<0)return!1;E(),t.splice(m,1);var T=k(g.fromId),z=k(g.toId);return T&&(m=zt(g,T.links),m>=0&&T.links.splice(m,1)),z&&(m=zt(g,z.links),m>=0&&z.links.splice(m,1)),s(g,"remove"),c(),!0}function b(g,m){var T=k(g),z;if(!T||!T.links)return null;for(z=0;z<T.links.length;++z){var M=T.links[z];if(M.fromId===g&&M.toId===m)return M}return null}function N(){E(),f(function(g){v(g.id)}),c()}function l(g){var m,T;if(typeof g=="function")for(m=0,T=t.length;m<T;++m)g(t[m])}function _(g,m,T){var z=k(g);if(z&&z.links&&typeof m=="function")return T?O(z.links,g,m):C(z.links,g,m)}function C(g,m,T){for(var z,M=0;M<g.length;++M){var D=g[M],q=D.fromId===m?D.toId:D.fromId;if(z=T(r[q],D),z)return!0}}function O(g,m,T){for(var z,M=0;M<g.length;++M){var D=g[M];if(D.fromId===m&&(z=T(r[D.toId],D),z))return!0}}function F(){}function $(){i+=1}function re(){i-=1,i===0&&h.length>0&&(d.fire("changed",h),h.length=0)}function ne(){return Object.keys?W:Z}function W(g){if(typeof g=="function"){for(var m=Object.keys(r),T=0;T<m.length;++T)if(g(r[m[T]]))return!0}}function Z(g){if(typeof g=="function"){var m;for(m in r)if(g(r[m]))return!0}}}function zt(e,r){if(!r)return-1;if(r.indexOf)return r.indexOf(e);var t=r.length,n;for(n=0;n<t;n+=1)if(r[n]===e)return n;return-1}function ff(e,r){this.id=e,this.links=null,this.data=r}function Jr(e,r){e.links?e.links.push(r):e.links=[r]}function en(e,r,t,n){this.fromId=e,this.toId=r,this.data=t,this.id=n}function Pt(e,r){return e.toString()+"\u{1F449} "+r.toString()}});var on=I((Ld,an)=>{an.exports=lf;var uf=rn();function lf(e,r,t){var n;r=r||nn,t=t||nn,typeof e=="string"?n=JSON.parse(e):n=e;var a=uf(),i;if(n.links===void 0||n.nodes===void 0)throw new Error("Cannot load graph without links and nodes");for(i=0;i<n.nodes.length;++i){var f=r(n.nodes[i]);if(!f.hasOwnProperty("id"))throw new Error("Graph node format is invalid: Node id is missing");a.addNode(f.id,f.data)}for(i=0;i<n.links.length;++i){var o=t(n.links[i]);if(!o.hasOwnProperty("fromId")||!o.hasOwnProperty("toId"))throw new Error("Graph link format is invalid. Both fromId and toId are required");a.addLink(o.fromId,o.toId,o.data)}return a}function nn(e){return e}});var un=I((Nd,fn)=>{fn.exports=sf;function sf(e,r,t){var n={nodes:[],links:[]},a=r||h,i=t||s;return e.forEachNode(f),e.forEachLink(o),JSON.stringify(n);function f(u){n.nodes.push(a(u))}function o(u){n.links.push(i(u))}function h(u){var E={id:u.id};return u.data!==void 0&&(E.data=u.data),E}function s(u){var E={fromId:u.fromId,toId:u.toId};return u.data!==void 0&&(E.data=u.data),E}}});var sn=I((Sd,ln)=>{ln.exports=cf;function cf(e,r){var t,n=Object.create(null);if(r=(r||"both").toLowerCase(),r==="both"||r==="inout")t=vf;else if(r==="in")t=df;else if(r==="out")t=hf;else throw new Error("Expected centrality degree kind is: in, out or both");return e.forEachNode(a),n;function a(i){var f=e.getLinks(i.id);n[i.id]=t(f,i.id)}}function df(e,r){var t=0;if(!e)return t;for(var n=0;n<e.length;n+=1)t+=e[n].toId===r?1:0;return t}function hf(e,r){var t=0;if(!e)return t;for(var n=0;n<e.length;n+=1)t+=e[n].fromId===r?1:0;return t}function vf(e){return e?e.length:0}});var dn=I((Ad,cn)=>{cn.exports=_f;function _f(e,r){var t=[],n=[],a=Object.create(null),i=Object.create(null),f=Object.create(null),o=Object.create(null),h,s=Object.create(null);return e.forEachNode(E),e.forEachNode(c),r||Object.keys(s).forEach(u),s;function u(y){s[y]/=2}function E(y){s[y.id]=0}function c(y){h=y.id,S(h),d()}function d(){for(e.forEachNode(w);n.length;){for(var y=n.pop(),L=(1+o[y])/f[y],k=a[y],v=0;v<k.length;++v){var x=k[v];o[x]+=f[x]*L}y!==h&&(s[y]+=o[y])}}function w(y){o[y.id]=0}function S(y){for(e.forEachNode(v),i[y]=0,f[y]=1,t.push(y);t.length;){var L=t.shift();n.push(L),e.forEachLinkedNode(L,k,r)}function k(p){x(p.id)}function v(p){var R=p.id;a[R]=[],i[R]=-1,f[R]=0}function x(p){i[p]===-1&&(i[p]=i[L]+1,t.push(p)),i[p]===i[L]+1&&(f[p]+=f[L],a[p].push(L))}}}});var vn=I((Td,hn)=>{hn.exports=pf;function pf(e,r){var t=[],n=Object.create(null),a,i=Object.create(null);return e.forEachNode(f),e.forEachNode(o),i;function f(u){i[u.id]=0}function o(u){a=u.id,s(a),h()}function h(){var u=Object.keys(n).map(function(d){return n[d]}).filter(function(d){return d!==-1}),E=u.length,c=u.reduce(function(d,w){return d+w});c>0?i[a]=(E-1)/c:i[a]=0}function s(u){for(e.forEachNode(c),n[u]=0,t.push(u);t.length;){var E=t.shift();e.forEachLinkedNode(E,d,r)}function c(w){var S=w.id;n[S]=-1}function d(w){var S=w.id;n[S]===-1&&(n[S]=n[E]+1,t.push(S))}}}});var pn=I((Rd,_n)=>{_n.exports=gf;function gf(e,r){var t=[],n=Object.create(null),a,i=Object.create(null);return e.forEachNode(f),e.forEachNode(o),i;function f(u){i[u.id]=0}function o(u){a=u.id,s(a),h()}function h(){var u=0;Object.keys(n).forEach(function(E){var c=n[E];u<c&&(u=c)}),i[a]=u}function s(u){for(e.forEachNode(c),n[u]=0,t.push(u);t.length;){var E=t.shift();e.forEachLinkedNode(E,d,r)}function c(w){var S=w.id;n[S]=-1}function d(w){var S=w.id;n[S]===-1&&(n[S]=n[E]+1,t.push(S))}}}});var gn=I((Cd,Fe)=>{Fe.exports.degree=sn();Fe.exports.betweenness=dn();Fe.exports.closeness=vn();Fe.exports.eccentricity=pn()});var bn=I((Dd,xn)=>{var wn=gn();xn.exports=wf;function wf(){return{betweennessCentrality:mf,degreeCentrality:xf}}function mf(e){var r=wn.betweenness(e);return mn(r)}function xf(e,r){var t=wn.degree(e,r);return mn(t)}function mn(e){return Object.keys(e).sort(r).map(t);function r(n,a){return e[a]-e[n]}function t(n){return{key:n,value:e[n]}}}});var En=I((zd,yn)=>{yn.exports=bf;function bf(){return{density:function(e,r){var t=e.getNodesCount();return t===0?NaN:r?e.getLinksCount()/(t*(t-1)):2*e.getLinksCount()/(t*(t-1))}}}});var It=I((Pd,kn)=>{kn.exports=yf;function yf(e,r,t,n,a,i,f,o){var h,s,u,E,c,d,w,S,y,L,k,v,x,p={x:0,y:0};return h=n-r,u=e-t,c=t*r-e*n,y=h*a+u*i+c,L=h*f+u*o+c,y!==0&&L!==0&&y>=0==L>=4||(s=o-i,E=a-f,d=f*i-a*o,w=s*e+E*r+d,S=s*t+E*n+d,w!==0&&S!==0&&w>=0==S>=0)||(k=h*E-s*u,k===0)?null:(v=k<0?-k/2:k/2,v=0,x=u*d-E*c,p.x=(x<0?x-v:x+v)/k,x=s*c-h*d,p.y=(x<0?x-v:x+v)/k,p)}});var Nn=I((Id,Ln)=>{var ft=It();Ln.exports=Ef;function Ef(e,r,t,n,a,i,f,o){return ft(e,r,e,n,a,i,f,o)||ft(e,n,t,n,a,i,f,o)||ft(t,n,t,r,a,i,f,o)||ft(t,r,e,r,a,i,f,o)}});var Be=I((Od,Sn)=>{Sn.exports=kf;function kf(e){return{createProgram:t,extendArray:n,copyArrayPart:Lf,swapArrayPart:Nf,getLocations:a,context:e};function r(i,f){var o=e.createShader(f);if(e.shaderSource(o,i),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var h=e.getShaderInfoLog(o);throw window.alert(h),h}return o}function t(i,f){var o=e.createProgram(),h=r(i,e.VERTEX_SHADER),s=r(f,e.FRAGMENT_SHADER);if(e.attachShader(o,h),e.attachShader(o,s),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var u=e.getShaderInfoLog(o);throw window.alert(u),u}return o}function n(i,f,o){if((f+1)*o>i.length){var h=new Float32Array(i.length*o*2);return h.set(i),h}return i}function a(i,f){for(var o={},h=0;h<f.length;++h){var s=f[h],u=-1;if(s[0]==="a"&&s[1]==="_"){if(u=e.getAttribLocation(i,s),u===-1)throw new Error("Program doesn't have required attribute: "+s);o[s.slice(2)]=u}else if(s[0]==="u"&&s[1]==="_"){if(u=e.getUniformLocation(i,s),u===null)throw new Error("Program doesn't have required uniform: "+s);o[s.slice(2)]=u}else throw new Error("Couldn't figure out your intent. All uniforms should start with 'u_' prefix, and attributes with 'a_'")}return o}}function Lf(e,r,t,n){for(var a=0;a<n;++a)e[r+a]=e[t+a]}function Nf(e,r,t,n){for(var a=0;a<n;++a){var i=e[r+a];e[r+a]=e[t+a],e[t+a]=i}}});var Mt=I((Md,An)=>{An.exports=Sf();function Sf(){return{on:Ot,off:Ot,stop:Ot}}function Ot(){}});var qt=I((qd,Tn)=>{var Af=Mt();Tn.exports=Tf();function Tf(){return typeof document===void 0?Af:{on:Rf,off:Cf}}function Rf(e,r){document.addEventListener(e,r)}function Cf(e,r){document.removeEventListener(e,r)}});var Ft=I((Fd,Rn)=>{var ut=qt();Rn.exports=Df;function Df(e){if(e.webglInputEvents)return e.webglInputEvents;var r=null,t=[],n=[],a=[],i=[],f=[],o=[],h=[],s,u,E=e.getGraphicsRoot();l(E);var c={mouseEnter:p,mouseLeave:x,mouseDown:v,mouseUp:k,mouseMove:L,click:y,dblClick:S,mouseCapture:w,releaseMouseCapture:d};return e.webglInputEvents=c,c;function d(){r=null}function w(_){r=_}function S(_){return typeof _=="function"&&h.push(_),c}function y(_){return typeof _=="function"&&o.push(_),c}function L(_){return typeof _=="function"&&f.push(_),c}function k(_){return typeof _=="function"&&i.push(_),c}function v(_){return typeof _=="function"&&a.push(_),c}function x(_){return typeof _=="function"&&n.push(_),c}function p(_){return typeof _=="function"&&t.push(_),c}function R(_,C,O){if(_&&_.size){var F=_.position,$=_.size;return F.x-$<C&&C<F.x+$&&F.y-$<O&&O<F.y+$}return!0}function A(_){return e.getNodeAtClientPos(_,R)}function P(_){_.stopPropagation?_.stopPropagation():_.cancelBubble=!0}function b(_){return P(_),!1}function N(_,C){var O,F;for(O=0;O<_.length;O+=1)if(F=_[O].apply(void 0,C),F)return!0}function l(_){var C={x:0,y:0},O=null,F=1,$=+new Date,re=function(Z){N(f,[O,Z]),C.x=Z.clientX,C.y=Z.clientY},ne=function(){ut.off("mousemove",re),ut.off("mouseup",ne)},W=function(){u=_.getBoundingClientRect()};window.addEventListener("resize",W),W(),_.addEventListener("mousemove",function(Z){if(!r){F++%7===0&&(W(),F=1);var g=!1,m;C.x=Z.clientX-u.left,C.y=Z.clientY-u.top,m=A(C),m&&O!==m?(O&&N(n,[O]),O=m,g=g||N(t,[O])):m===null&&O!==m&&(g=g||N(n,[O]),O=null),g&&P(Z)}}),_.addEventListener("mousedown",function(Z){var g=!1,m;W(),C.x=Z.clientX-u.left,C.y=Z.clientY-u.top,m=[A(C),Z],m[0]?(g=N(a,m),ut.on("mousemove",re),ut.on("mouseup",ne),s=window.document.onselectstart,window.document.onselectstart=b,O=m[0]):O=null,g&&P(Z)}),_.addEventListener("mouseup",function(Z){var g=+new Date,m;C.x=Z.clientX-u.left,C.y=Z.clientY-u.top;var T=A(C),z=T===O;m=[T||O,Z],m[0]&&(window.document.onselectstart=s,g-$<400&&z?N(h,m):N(o,m),$=g,N(i,m)&&P(Z))})}}});var Dn=I((Bd,Cn)=>{Cn.exports=function(e){Pf(e);var r=zf(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function zf(e){var r=Object.create(null);return{on:function(t,n,a){if(typeof n!="function")throw new Error("callback is expected to be a function");var i=r[t];return i||(i=r[t]=[]),i.push({callback:n,ctx:a}),e},off:function(t,n){var a=typeof t>"u";if(a)return r=Object.create(null),e;if(r[t]){var i=typeof n!="function";if(i)delete r[t];else for(var f=r[t],o=0;o<f.length;++o)f[o].callback===n&&f.splice(o,1)}return e},fire:function(t){var n=r[t];if(!n)return e;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var i=0;i<n.length;++i){var f=n[i];f.callback.apply(f.ctx,a)}return e}}}function Pf(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],t=0;t<r.length;++t)if(e.hasOwnProperty(r[t]))throw new Error("Subject cannot be eventified, since it already has property '"+r[t]+"'")}});var On=I((Ud,In)=>{In.exports=Of;var If=Dn();function Of(e){e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now own each graph
is considered to be not a multigraph by default (each edge is unique).`),e.multigraph=e.uniqueLinkId),e.multigraph===void 0&&(e.multigraph=!1);var r=typeof Object.create=="function"?Object.create(null):{},t=[],n={},a=0,i=0,f=ne(),o=e.multigraph?R:p,h=[],s=F,u=F,E=F,c=F,d={addNode:L,addLink:x,removeLink:P,removeNode:v,getNode:k,getNodesCount:function(){return a},getLinksCount:function(){return t.length},getLinks:A,forEachNode:f,forEachLinkedNode:_,forEachLink:l,beginUpdate:E,endUpdate:c,clear:N,hasLink:b,hasNode:k,getLink:b};return If(d),w(),d;function w(){var g=d.on;d.on=m;function m(){return d.beginUpdate=E=$,d.endUpdate=c=re,s=S,u=y,d.on=g,g.apply(d,arguments)}}function S(g,m){h.push({link:g,changeType:m})}function y(g,m){h.push({node:g,changeType:m})}function L(g,m){if(g===void 0)throw new Error("Invalid node identifier");E();var T=k(g);return T?(T.data=m,u(T,"update")):(T=new Mf(g,m),a++,u(T,"add")),r[g]=T,c(),T}function k(g){return r[g]}function v(g){var m=k(g);if(!m)return!1;E();var T=m.links;if(T){m.links=null;for(var z=0;z<T.length;++z)P(T[z])}return delete r[g],a--,u(m,"remove"),c(),!0}function x(g,m,T){E();var z=k(g)||L(g),M=k(m)||L(m),D=o(g,m,T);return t.push(D),zn(z,D),g!==m&&zn(M,D),s(D,"add"),c(),D}function p(g,m,T){var z=Ut(g,m);return new Pn(g,m,T,z)}function R(g,m,T){var z=Ut(g,m),M=n.hasOwnProperty(z);if(M||b(g,m)){M||(n[z]=0);var D="@"+ ++n[z];z=Ut(g+D,m+D)}return new Pn(g,m,T,z)}function A(g){var m=k(g);return m?m.links:null}function P(g){if(!g)return!1;var m=Bt(g,t);if(m<0)return!1;E(),t.splice(m,1);var T=k(g.fromId),z=k(g.toId);return T&&(m=Bt(g,T.links),m>=0&&T.links.splice(m,1)),z&&(m=Bt(g,z.links),m>=0&&z.links.splice(m,1)),s(g,"remove"),c(),!0}function b(g,m){var T=k(g),z;if(!T||!T.links)return null;for(z=0;z<T.links.length;++z){var M=T.links[z];if(M.fromId===g&&M.toId===m)return M}return null}function N(){E(),f(function(g){v(g.id)}),c()}function l(g){var m,T;if(typeof g=="function")for(m=0,T=t.length;m<T;++m)g(t[m])}function _(g,m,T){var z=k(g);if(z&&z.links&&typeof m=="function")return T?O(z.links,g,m):C(z.links,g,m)}function C(g,m,T){for(var z,M=0;M<g.length;++M){var D=g[M],q=D.fromId===m?D.toId:D.fromId;if(z=T(r[q],D),z)return!0}}function O(g,m,T){for(var z,M=0;M<g.length;++M){var D=g[M];if(D.fromId===m&&(z=T(r[D.toId],D),z))return!0}}function F(){}function $(){i+=1}function re(){i-=1,i===0&&h.length>0&&(d.fire("changed",h),h.length=0)}function ne(){return Object.keys?W:Z}function W(g){if(typeof g=="function"){for(var m=Object.keys(r),T=0;T<m.length;++T)if(g(r[m[T]]))return!0}}function Z(g){if(typeof g=="function"){var m;for(m in r)if(g(r[m]))return!0}}}function Bt(e,r){if(!r)return-1;if(r.indexOf)return r.indexOf(e);var t=r.length,n;for(n=0;n<t;n+=1)if(r[n]===e)return n;return-1}function Mf(e,r){this.id=e,this.links=null,this.data=r}function zn(e,r){e.links?e.links.push(r):e.links=[r]}function Pn(e,r,t,n){this.fromId=e,this.toId=r,this.data=t,this.id=n}function Ut(e,r){return e.toString()+"\u{1F449} "+r.toString()}});var qn=I((Zd,lt)=>{lt.exports=Zt;lt.exports.random=Zt,lt.exports.randomIterator=Bf;function Zt(e){var r=typeof e=="number"?e:+new Date;return new Ue(r)}function Ue(e){this.seed=e}Ue.prototype.next=Ff;Ue.prototype.nextDouble=Mn;Ue.prototype.uniform=Mn;Ue.prototype.gaussian=qf;function qf(){var e,r,t;do r=this.nextDouble()*2-1,t=this.nextDouble()*2-1,e=r*r+t*t;while(e>=1||e===0);return r*Math.sqrt(-2*Math.log(e)/e)}function Mn(){var e=this.seed;return e=e+2127912214+(e<<12)&4294967295,e=(e^3345072700^e>>>19)&4294967295,e=e+374761393+(e<<5)&4294967295,e=(e+3550635116^e<<9)&4294967295,e=e+4251993797+(e<<3)&4294967295,e=(e^3042594569^e>>>16)&4294967295,this.seed=e,(e&268435455)/268435456}function Ff(e){return Math.floor(this.nextDouble()*e)}function Bf(e,r){var t=r||Zt();if(typeof t.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:a,shuffle:n};function n(){var i,f,o;for(i=e.length-1;i>0;--i)f=t.next(i+1),o=e[f],e[f]=e[i],e[i]=o;return e}function a(i){var f,o,h;for(f=e.length-1;f>0;--f)o=t.next(f+1),h=e[o],e[o]=e[f],e[f]=h,i(h);e.length&&i(e[0])}}});var Bn=I((Yd,Yt)=>{var Uf=On();Yt.exports=Fn(Uf);Yt.exports.factory=Fn;function Fn(e){return{ladder:r,complete:n,completeBipartite:a,balancedBinTree:h,path:i,circularLadder:t,grid:f,grid3:o,noLinks:s,wattsStrogatz:E,cliqueCircle:u};function r(c){if(!c||c<0)throw new Error("Invalid number of nodes");var d=e(),w;for(w=0;w<c-1;++w)d.addLink(w,w+1),d.addLink(c+w,c+w+1),d.addLink(w,c+w);return d.addLink(c-1,2*c-1),d}function t(c){if(!c||c<0)throw new Error("Invalid number of nodes");var d=r(c);return d.addLink(0,c-1),d.addLink(c,2*c-1),d}function n(c){if(!c||c<1)throw new Error("At least two nodes are expected for complete graph");var d=e(),w,S;for(w=0;w<c;++w)for(S=w+1;S<c;++S)w!==S&&d.addLink(w,S);return d}function a(c,d){if(!c||!d||c<0||d<0)throw new Error("Graph dimensions are invalid. Number of nodes in each partition should be greater than 0");var w=e(),S,y;for(S=0;S<c;++S)for(y=c;y<c+d;++y)w.addLink(S,y);return w}function i(c){if(!c||c<0)throw new Error("Invalid number of nodes");var d=e(),w;for(d.addNode(0),w=1;w<c;++w)d.addLink(w-1,w);return d}function f(c,d){if(c<1||d<1)throw new Error("Invalid number of nodes in grid graph");var w=e(),S,y;if(c===1&&d===1)return w.addNode(0),w;for(S=0;S<c;++S)for(y=0;y<d;++y){var L=S+y*c;S>0&&w.addLink(L,S-1+y*c),y>0&&w.addLink(L,S+(y-1)*c)}return w}function o(c,d,w){if(c<1||d<1||w<1)throw new Error("Invalid number of nodes in grid3 graph");var S=e(),y,L,k;if(c===1&&d===1&&w===1)return S.addNode(0),S;for(k=0;k<w;++k)for(y=0;y<c;++y)for(L=0;L<d;++L){var v=k*c*d,x=y+L*c+v;y>0&&S.addLink(x,y-1+L*c+v),L>0&&S.addLink(x,y+(L-1)*c+v),k>0&&S.addLink(x,y+L*c+(k-1)*c*d)}return S}function h(c){if(c<0)throw new Error("Invalid number of nodes in balanced tree");var d=e(),w=Math.pow(2,c),S;for(c===0&&d.addNode(1),S=1;S<w;++S){var y=S,L=y*2,k=y*2+1;d.addLink(y,L),d.addLink(y,k)}return d}function s(c){if(c<0)throw new Error("Number of nodes should be >= 0");var d=e(),w;for(w=0;w<c;++w)d.addNode(w);return d}function u(c,d){if(c<1)throw new Error("Invalid number of cliqueCount in cliqueCircle");if(d<1)throw new Error("Invalid number of cliqueSize in cliqueCircle");for(var w=e(),S=0;S<c;++S)y(d,S*d),S>0&&w.addLink(S*d,S*d-1);return w.addLink(0,w.getNodesCount()-1),w;function y(L,k){for(var v=0;v<L;++v)w.addNode(v+k);for(var v=0;v<L;++v)for(var x=v+1;x<L;++x)w.addLink(v+k,x+k)}}function E(c,d,w,S){if(d>=c)throw new Error("Choose smaller `k`. It cannot be larger than number of nodes `n`");var y=qn().random(S||42),L=e(),k,v;for(k=0;k<c;++k)L.addNode(k);for(var x=Math.floor(d/2+1),p=1;p<x;++p)for(k=0;k<c;++k)v=(p+k)%c,L.addLink(k,v);for(p=1;p<x;++p)for(k=0;k<c;++k)if(y.nextDouble()<w){var R=k;v=(p+k)%c;var A=y.next(c),P=A===R||L.hasLink(R,A);if(P&&L.getLinks(R).length===c-1)continue;for(;P;)A=y.next(c),P=A===R||L.hasLink(R,A);var b=L.hasLink(R,v);L.removeLink(b),L.addLink(R,A)}return L}}});var $t=I(($d,Un)=>{Un.exports=Zf();function Zf(){if(typeof window>"u"||!window.hasOwnProperty("navigator"))return{browser:"",version:"0"};var e=window.navigator.userAgent.toLowerCase(),r=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,n=/(msie) ([\w.]+)/,a=/(mozilla)(?:.*? rv:([\w.]+))?/,i=r.exec(e)||t.exec(e)||n.exec(e)||e.indexOf("compatible")<0&&a.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}});var Xt=I((Xd,Zn)=>{Zn.exports=Yf;function Yf(e){var r=0,t=0;if(e.offsetParent)do r+=e.offsetLeft,t+=e.offsetTop;while((e=e.offsetParent)!==null);return[r,t]}});var st=I((Hd,$n)=>{$n.exports=Xf;var G=qt(),Yn=$t(),$f=Xt();function Xf(e){var r,t,n,a,i,f,o=0,h=0,s,u=!1,E=0,c=function(l){var _=0,C=0;return l=l||window.event,l.pageX||l.pageY?(_=l.pageX,C=l.pageY):(l.clientX||l.clientY)&&(_=l.clientX+window.document.body.scrollLeft+window.document.documentElement.scrollLeft,C=l.clientY+window.document.body.scrollTop+window.document.documentElement.scrollTop),[_,C]},d=function(l,_,C){t&&t(l,{x:_-o,y:C-h}),o=_,h=C},w=function(l){l.stopPropagation?l.stopPropagation():l.cancelBubble=!0},S=function(l){l.preventDefault&&l.preventDefault()},y=function(l){return w(l),!1},L=function(l){l=l||window.event,d(l,l.clientX,l.clientY)},k=function(l){if(l=l||window.event,u)return w(l),!1;var _=l.button===1&&window.event!==null||l.button===0;if(_)return o=l.clientX,h=l.clientY,s=l.target||l.srcElement,r&&r(l,{x:o,y:h}),G.on("mousemove",L),G.on("mouseup",v),w(l),i=window.document.onselectstart,f=window.document.ondragstart,window.document.onselectstart=y,s.ondragstart=y,!1},v=function(l){l=l||window.event,G.off("mousemove",L),G.off("mouseup",v),window.document.onselectstart=i,s.ondragstart=f,s=null,n&&n(l)},x=function(l){if(typeof a=="function"){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1;var _,C=c(l),O=$f(e),F={x:C[0]-O[0],y:C[1]-O[1]};l.wheelDelta?_=l.wheelDelta/360:_=l.detail/-9,a(l,_,F)}},p=function(l){!a&&l?Yn.browser==="webkit"?e.addEventListener("mousewheel",x,!1):e.addEventListener("DOMMouseScroll",x,!1):a&&!l&&(Yn.browser==="webkit"?e.removeEventListener("mousewheel",x,!1):e.removeEventListener("DOMMouseScroll",x,!1)),a=l},R=function(l,_){return(l.clientX-_.clientX)*(l.clientX-_.clientX)+(l.clientY-_.clientY)*(l.clientY-_.clientY)},A=function(l){if(l.touches.length===1){w(l);var _=l.touches[0];d(l,_.clientX,_.clientY)}else if(l.touches.length===2){var C=R(l.touches[0],l.touches[1]),O=0;C<E?O=-1:C>E&&(O=1),a(l,O,{x:l.touches[0].clientX,y:l.touches[0].clientY}),E=C,w(l),S(l)}},P=function(l){u=!1,G.off("touchmove",A),G.off("touchend",P),G.off("touchcancel",P),s=null,n&&n(l)},b=function(l,_){w(l),S(l),o=_.clientX,h=_.clientY,s=l.target||l.srcElement,r&&r(l,{x:o,y:h}),u||(u=!0,G.on("touchmove",A),G.on("touchend",P),G.on("touchcancel",P))},N=function(l){if(l.touches.length===1)return b(l,l.touches[0]);l.touches.length===2&&(w(l),S(l),E=R(l.touches[0],l.touches[1]))};return e.addEventListener("mousedown",k),e.addEventListener("touchstart",N),{onStart:function(l){return r=l,this},onDrag:function(l){return t=l,this},onStop:function(l){return n=l,this},onScroll:function(l){return p(l),this},release:function(){e.removeEventListener("mousedown",k),e.removeEventListener("touchstart",N),G.off("mousemove",L),G.off("mouseup",v),G.off("touchmove",A),G.off("touchend",P),G.off("touchcancel",P),p(null)}}}});var ct=I((Gd,Xn)=>{Xn.exports=Gf;var Hf=st();function Gf(e,r){var t={};return{bindDragNDrop:n};function n(a,i){var f;if(i){var o=r.getNodeUI(a.id);f=Hf(o),typeof i.onStart=="function"&&f.onStart(i.onStart),typeof i.onDrag=="function"&&f.onDrag(i.onDrag),typeof i.onStop=="function"&&f.onStop(i.onStop),t[a.id]=f}else(f=t[a.id])&&(f.release(),delete t[a.id])}}});var Ht=I((Vd,Hn)=>{Hn.exports=jf;var Vf=Ft();function jf(e,r){var t=Vf(r),n=null,a={},i={x:0,y:0};return t.mouseDown(function(f,o){n=f,i.x=o.clientX,i.y=o.clientY,t.mouseCapture(n);var h=a[f.id];return h&&h.onStart&&h.onStart(o,i),!0}).mouseUp(function(f){t.releaseMouseCapture(n),n=null;var o=a[f.id];return o&&o.onStop&&o.onStop(),!0}).mouseMove(function(f,o){if(n){var h=a[n.id];return h&&h.onDrag&&h.onDrag(o,{x:o.clientX-i.x,y:o.clientY-i.y}),i.x=o.clientX,i.y=o.clientY,!0}}),{bindDragNDrop:function(f,o){a[f.id]=o,o||delete a[f.id]}}}});var Gt=I((jd,Vn)=>{Vn.exports=Kf();function Kf(){var e=0,r=["ms","moz","webkit","o"],t,n;for(typeof window<"u"?n=window:typeof global<"u"?n=global:n={setTimeout:Gn,clearTimeout:Gn},t=0;t<r.length&&!n.requestAnimationFrame;++t){var a=r[t];n.requestAnimationFrame=n[a+"RequestAnimationFrame"],n.cancelAnimationFrame=n[a+"CancelAnimationFrame"]||n[a+"CancelRequestAnimationFrame"]}return n.requestAnimationFrame||(n.requestAnimationFrame=f),n.cancelAnimationFrame||(n.cancelAnimationFrame=o),i;function i(h){var s;return u(),{stop:E,restart:c};function u(){s=n.requestAnimationFrame(u),h()||E()}function E(){n.cancelAnimationFrame(s),s=0}function c(){s||u()}}function f(h){var s=new Date().getTime(),u=Math.max(0,16-(s-e)),E=n.setTimeout(function(){h(s+u)},u);return e=s+u,E}function o(h){n.clearTimeout(h)}}function Gn(){}});var Vt=I((Kd,jn)=>{jn.exports=Wf;function Wf(e){if(!e)throw{message:"Cannot get dimensions of undefined container"};var r=e.clientWidth,t=e.clientHeight;return{left:0,top:0,width:r,height:t}}});var Wn=I((Wd,Kn)=>{var Qf=we();Kn.exports=Jf;function Jf(e){if(console.log("This method is deprecated. Please use Viva.events() instead"),!e)return e;var r=e.on!==void 0||e.off!==void 0||e.fire!==void 0;if(r)return{extend:function(){return e},on:e.on,stop:e.off};return{extend:t,on:e.on,stop:e.off};function t(){var n=Qf(e);return n.addEventListener=n.on,n}}});var Jn=I((Qd,Qn)=>{Qn.exports=eu;function eu(e,r,t,n,a){this.from=e,this.to=r,this.length=t,this.coeff=n,this.weight=typeof a=="number"?a:1}});var dt=I((Jd,ti)=>{ti.exports=tu;function tu(e,r,t){var n=Object.prototype.toString.call(t)==="[object Array]";if(n)for(var a=0;a<t.length;++a)ei(e,r,t[a]);else for(var i in e)ei(e,r,i)}function ei(e,r,t){if(e.hasOwnProperty(t)){if(typeof r[t]=="function")return;r[t]=function(n){return n!==void 0?(e[t]=n,r):e[t]}}}});var ni=I((eh,ri)=>{ri.exports=function(e){nu(e);var r=ru(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function ru(e){var r=Object.create(null);return{on:function(t,n,a){if(typeof n!="function")throw new Error("callback is expected to be a function");var i=r[t];return i||(i=r[t]=[]),i.push({callback:n,ctx:a}),e},off:function(t,n){var a=typeof t>"u";if(a)return r=Object.create(null),e;if(r[t]){var i=typeof n!="function";if(i)delete r[t];else for(var f=r[t],o=0;o<f.length;++o)f[o].callback===n&&f.splice(o,1)}return e},fire:function(t){var n=r[t];if(!n)return e;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var i=0;i<n.length;++i){var f=n[i];f.callback.apply(f.ctx,a)}return e}}}function nu(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],t=0;t<r.length;++t)if(e.hasOwnProperty(r[t]))throw new Error("Subject cannot be eventified, since it already has property '"+r[t]+"'")}});var ai=I((th,ii)=>{ii.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}});var ui=I((rh,fi)=>{fi.exports=oi;function oi(){this.stack=[],this.popIdx=0}oi.prototype={isEmpty:function(){return this.popIdx===0},push:function(e,r){var t=this.stack[this.popIdx];t?(t.node=e,t.body=r):this.stack[this.popIdx]=new iu(e,r),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};function iu(e,r){this.node=e,this.body=r}});var si=I((nh,li)=>{li.exports=function(r,t){var n=Math.abs(r.x-t.x),a=Math.abs(r.y-t.y);return n<1e-8&&a<1e-8}});var di=I((ih,ci)=>{ci.exports=function(e){e=e||{},e.gravity=typeof e.gravity=="number"?e.gravity:-1,e.theta=typeof e.theta=="number"?e.theta:.8;var r=Se().random(1984),t=ai(),n=ui(),a=si(),i=e.gravity,f=[],o=new n,h=e.theta,s=[],u=0,E=c();return{insertBodies:w,getRoot:function(){return E},updateBodyForce:d,options:function(y){return y?(typeof y.gravity=="number"&&(i=y.gravity),typeof y.theta=="number"&&(h=y.theta),this):{gravity:i,theta:h}}};function c(){var y=s[u];return y?(y.quad0=null,y.quad1=null,y.quad2=null,y.quad3=null,y.body=null,y.mass=y.massX=y.massY=0,y.left=y.right=y.top=y.bottom=0):(y=new t,s[u]=y),++u,y}function d(y){var L=f,k,v,x,p,R=0,A=0,P=1,b=0,N=1;for(L[0]=E;P;){var l=L[b],_=l.body;P-=1,b+=1;var C=_!==y;_&&C?(v=_.pos.x-y.pos.x,x=_.pos.y-y.pos.y,p=Math.sqrt(v*v+x*x),p===0&&(v=(r.nextDouble()-.5)/50,x=(r.nextDouble()-.5)/50,p=Math.sqrt(v*v+x*x)),k=i*_.mass*y.mass/(p*p*p),R+=k*v,A+=k*x):C&&(v=l.massX/l.mass-y.pos.x,x=l.massY/l.mass-y.pos.y,p=Math.sqrt(v*v+x*x),p===0&&(v=(r.nextDouble()-.5)/50,x=(r.nextDouble()-.5)/50,p=Math.sqrt(v*v+x*x)),(l.right-l.left)/p<h?(k=i*l.mass*y.mass/(p*p*p),R+=k*v,A+=k*x):(l.quad0&&(L[N]=l.quad0,P+=1,N+=1),l.quad1&&(L[N]=l.quad1,P+=1,N+=1),l.quad2&&(L[N]=l.quad2,P+=1,N+=1),l.quad3&&(L[N]=l.quad3,P+=1,N+=1)))}y.force.x+=R,y.force.y+=A}function w(y){var L=Number.MAX_VALUE,k=Number.MAX_VALUE,v=Number.MIN_VALUE,x=Number.MIN_VALUE,p,R=y.length;for(p=R;p--;){var A=y[p].pos.x,P=y[p].pos.y;A<L&&(L=A),A>v&&(v=A),P<k&&(k=P),P>x&&(x=P)}var b=v-L,N=x-k;for(b>N?x=k+b:v=L+N,u=0,E=c(),E.left=L,E.right=v,E.top=k,E.bottom=x,p=R-1,p>=0&&(E.body=y[p]);p--;)S(y[p],E)}function S(y){for(o.reset(),o.push(E,y);!o.isEmpty();){var L=o.pop(),k=L.node,v=L.body;if(k.body){var _=k.body;if(k.body=null,a(_.pos,v.pos)){var C=3;do{var O=r.nextDouble(),F=(k.right-k.left)*O,$=(k.bottom-k.top)*O;_.pos.x=k.left+F,_.pos.y=k.top+$,C-=1}while(C>0&&a(_.pos,v.pos));if(C===0&&a(_.pos,v.pos))return}o.push(k,_),o.push(k,v)}else{var x=v.pos.x,p=v.pos.y;k.mass=k.mass+v.mass,k.massX=k.massX+v.mass*x,k.massY=k.massY+v.mass*p;var R=0,A=k.left,P=(k.right+A)/2,b=k.top,N=(k.bottom+b)/2;x>P&&(R=R+1,A=P,P=k.right),p>N&&(R=R+2,b=N,N=k.bottom);var l=au(k,R);l?o.push(l,v):(l=c(),l.left=A,l.top=b,l.right=P,l.bottom=N,l.body=v,ou(k,R,l))}}}};function au(e,r){return r===0?e.quad0:r===1?e.quad1:r===2?e.quad2:r===3?e.quad3:null}function ou(e,r,t){r===0?e.quad0=t:r===1?e.quad1=t:r===2?e.quad2=t:r===3&&(e.quad3=t)}});var vi=I((ah,hi)=>{hi.exports=function(e,r){var t=Se().random(42),n={x1:0,y1:0,x2:0,y2:0};return{box:n,update:a,reset:function(){n.x1=n.y1=0,n.x2=n.y2=0},getBestNewPosition:function(i){var f=n,o=0,h=0;if(i.length){for(var s=0;s<i.length;++s)o+=i[s].pos.x,h+=i[s].pos.y;o/=i.length,h/=i.length}else o=(f.x1+f.x2)/2,h=(f.y1+f.y2)/2;var u=r.springLength;return{x:o+t.next(u)-u/2,y:h+t.next(u)-u/2}}};function a(){var i=e.length;if(i!==0){for(var f=Number.MAX_VALUE,o=Number.MAX_VALUE,h=Number.MIN_VALUE,s=Number.MIN_VALUE;i--;){var u=e[i];u.isPinned?(u.pos.x=u.prevPos.x,u.pos.y=u.prevPos.y):(u.prevPos.x=u.pos.x,u.prevPos.y=u.pos.y),u.pos.x<f&&(f=u.pos.x),u.pos.x>h&&(h=u.pos.x),u.pos.y<o&&(o=u.pos.y),u.pos.y>s&&(s=u.pos.y)}n.x1=f,n.x2=h,n.y1=o,n.y2=s}}}});var pi=I((oh,_i)=>{_i.exports=function(e){var r=ge(),t=dt();e=r(e,{dragCoeff:.02});var n={update:function(a){a.force.x-=e.dragCoeff*a.velocity.x,a.force.y-=e.dragCoeff*a.velocity.y}};return t(e,n,["dragCoeff"]),n}});var wi=I((fh,gi)=>{gi.exports=function(e){var r=ge(),t=Se().random(42),n=dt();e=r(e,{springCoeff:2e-4,springLength:80});var a={update:function(i){var f=i.from,o=i.to,h=i.length<0?e.springLength:i.length,s=o.pos.x-f.pos.x,u=o.pos.y-f.pos.y,E=Math.sqrt(s*s+u*u);E===0&&(s=(t.nextDouble()-.5)/50,u=(t.nextDouble()-.5)/50,E=Math.sqrt(s*s+u*u));var c=E-h,d=(!i.coeff||i.coeff<0?e.springCoeff:i.coeff)*c/E*i.weight;f.force.x+=d*s,f.force.y+=d*u,o.force.x-=d*s,o.force.y-=d*u}};return n(e,a,["springCoeff","springLength"]),a}});var xi=I((uh,mi)=>{mi.exports=fu;function fu(e,r){var t=0,n=0,a=0,i=0,f,o=e.length;if(o===0)return 0;for(f=0;f<o;++f){var h=e[f],s=r/h.mass;h.velocity.x+=s*h.force.x,h.velocity.y+=s*h.force.y;var u=h.velocity.x,E=h.velocity.y,c=Math.sqrt(u*u+E*E);c>1&&(h.velocity.x=u/c,h.velocity.y=E/c),t=r*h.velocity.x,a=r*h.velocity.y,h.pos.x+=t,h.pos.y+=a,n+=Math.abs(t),i+=Math.abs(a)}return(n*n+i*i)/o}});var ki=I((lh,Ei)=>{Ei.exports={Body:bi,Vector2d:Ae,Body3d:yi,Vector3d:Te};function bi(e,r){this.pos=new Ae(e,r),this.prevPos=new Ae(e,r),this.force=new Ae,this.velocity=new Ae,this.mass=1}bi.prototype.setPosition=function(e,r){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=r};function Ae(e,r){e&&typeof e!="number"?(this.x=typeof e.x=="number"?e.x:0,this.y=typeof e.y=="number"?e.y:0):(this.x=typeof e=="number"?e:0,this.y=typeof r=="number"?r:0)}Ae.prototype.reset=function(){this.x=this.y=0};function yi(e,r,t){this.pos=new Te(e,r,t),this.prevPos=new Te(e,r,t),this.force=new Te,this.velocity=new Te,this.mass=1}yi.prototype.setPosition=function(e,r,t){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=r,this.prevPos.z=this.pos.z=t};function Te(e,r,t){e&&typeof e!="number"?(this.x=typeof e.x=="number"?e.x:0,this.y=typeof e.y=="number"?e.y:0,this.z=typeof e.z=="number"?e.z:0):(this.x=typeof e=="number"?e:0,this.y=typeof r=="number"?r:0,this.z=typeof t=="number"?t:0)}Te.prototype.reset=function(){this.x=this.y=this.z=0}});var Ni=I((sh,Li)=>{var uu=ki();Li.exports=function(e){return new uu.Body(e)}});var jt=I((ch,Si)=>{Si.exports=lu;function lu(e){var r=Jn(),t=dt(),n=ge(),a=ni();e=n(e,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20});var i=e.createQuadTree||di(),f=e.createBounds||vi(),o=e.createDragForce||pi(),h=e.createSpringForce||wi(),s=e.integrator||xi(),u=e.createBody||Ni(),E=[],c=[],d=i(e),w=f(E,e),S=h(e),y=o(e),L=!0,k=0,v={bodies:E,quadTree:d,springs:c,settings:e,step:function(){x();var p=s(E,e.timeStep);return w.update(),p},addBody:function(p){if(!p)throw new Error("Body is required");return E.push(p),p},addBodyAt:function(p){if(!p)throw new Error("Body position is required");var R=u(p);return E.push(R),R},removeBody:function(p){if(!!p){var R=E.indexOf(p);if(!(R<0))return E.splice(R,1),E.length===0&&w.reset(),!0}},addSpring:function(p,R,A,P,b){if(!p||!R)throw new Error("Cannot add null spring to force simulator");typeof A!="number"&&(A=-1);var N=new r(p,R,A,b>=0?b:-1,P);return c.push(N),N},getTotalMovement:function(){return k},removeSpring:function(p){if(!!p){var R=c.indexOf(p);if(R>-1)return c.splice(R,1),!0}},getBestNewBodyPosition:function(p){return w.getBestNewPosition(p)},getBBox:function(){return L&&(w.update(),L=!1),w.box},invalidateBBox:function(){L=!0},gravity:function(p){return p!==void 0?(e.gravity=p,d.options({gravity:p}),this):e.gravity},theta:function(p){return p!==void 0?(e.theta=p,d.options({theta:p}),this):e.theta}};return t(e,v),a(v),v;function x(){var p,R=E.length;if(R)for(d.insertBodies(E);R--;)p=E[R],p.isPinned||(p.force.reset(),d.updateBodyForce(p),y.update(p));for(R=c.length;R--;)S.update(c[R])}}});var Ti=I((dh,Ai)=>{Ai.exports=function(e){cu(e);var r=su(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function su(e){var r=Object.create(null);return{on:function(t,n,a){if(typeof n!="function")throw new Error("callback is expected to be a function");var i=r[t];return i||(i=r[t]=[]),i.push({callback:n,ctx:a}),e},off:function(t,n){var a=typeof t>"u";if(a)return r=Object.create(null),e;if(r[t]){var i=typeof n!="function";if(i)delete r[t];else for(var f=r[t],o=0;o<f.length;++o)f[o].callback===n&&f.splice(o,1)}return e},fire:function(t){var n=r[t];if(!n)return e;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var i=0;i<n.length;++i){var f=n[i];f.callback.apply(f.ctx,a)}return e}}}function cu(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],t=0;t<r.length;++t)if(e.hasOwnProperty(r[t]))throw new Error("Subject cannot be eventified, since it already has property '"+r[t]+"'")}});var Wt=I((hh,Kt)=>{Kt.exports=hu;Kt.exports.simulator=jt();var du=Ti();function hu(e,r){if(!e)throw new Error("Graph structure cannot be undefined");var t=jt(),n=t(r),a=N;r&&typeof r.nodeMass=="function"&&(a=r.nodeMass);var i=Object.create(null),f={},o=0,h=n.settings.springTransform||vu;L(),w();var s=!1,u={step:function(){if(o===0)return!0;var l=n.step();u.lastMove=l,u.fire("step");var _=l/o,C=_<=.01;return s!==C&&(s=C,S(C)),C},getNodePosition:function(l){return b(l).pos},setNodePosition:function(l){var _=b(l);_.setPosition.apply(_,Array.prototype.slice.call(arguments,1)),n.invalidateBBox()},getLinkPosition:function(l){var _=f[l];if(_)return{from:_.from.pos,to:_.to.pos}},getGraphRect:function(){return n.getBBox()},forEachBody:E,pinNode:function(l,_){var C=b(l.id);C.isPinned=!!_},isNodePinned:function(l){return b(l.id).isPinned},dispose:function(){e.off("changed",y),u.fire("disposed")},getBody:d,getSpring:c,simulator:n,graph:e,lastMove:0};return du(u),u;function E(l){Object.keys(i).forEach(function(_){l(i[_],_)})}function c(l,_){var C;if(_===void 0)typeof l!="object"?C=l:C=l.id;else{var O=e.hasLink(l,_);if(!O)return;C=O.id}return f[C]}function d(l){return i[l]}function w(){e.on("changed",y)}function S(l){u.fire("stable",l)}function y(l){for(var _=0;_<l.length;++_){var C=l[_];C.changeType==="add"?(C.node&&k(C.node.id),C.link&&x(C.link)):C.changeType==="remove"&&(C.node&&v(C.node),C.link&&p(C.link))}o=e.getNodesCount()}function L(){o=0,e.forEachNode(function(l){k(l.id),o+=1}),e.forEachLink(x)}function k(l){var _=i[l];if(!_){var C=e.getNode(l);if(!C)throw new Error("initBody() was called with unknown node id");var O=C.position;if(!O){var F=R(C);O=n.getBestNewBodyPosition(F)}_=n.addBodyAt(O),_.id=l,i[l]=_,A(l),P(C)&&(_.isPinned=!0)}}function v(l){var _=l.id,C=i[_];C&&(i[_]=null,delete i[_],n.removeBody(C))}function x(l){A(l.fromId),A(l.toId);var _=i[l.fromId],C=i[l.toId],O=n.addSpring(_,C,l.length);h(l,O),f[l.id]=O}function p(l){var _=f[l.id];if(_){var C=e.getNode(l.fromId),O=e.getNode(l.toId);C&&A(C.id),O&&A(O.id),delete f[l.id],n.removeSpring(_)}}function R(l){var _=[];if(!l.links)return _;for(var C=Math.min(l.links.length,2),O=0;O<C;++O){var F=l.links[O],$=F.fromId!==l.id?i[F.fromId]:i[F.toId];$&&$.pos&&_.push($)}return _}function A(l){var _=i[l];if(_.mass=a(l),Number.isNaN(_.mass))throw new Error("Node mass should be a number")}function P(l){return l&&(l.isPinned||l.data&&l.data.isPinned)}function b(l){var _=i[l];return _||(k(l),_=i[l]),_}function N(l){var _=e.getLinks(l);return _?1+_.length/3:1}}function vu(){}});var Qt=I((vh,Ri)=>{Ri.exports=_u;function _u(e,r,t,n){this.x1=e||0,this.y1=r||0,this.x2=t||0,this.y2=n||0}});var Di=I((_h,Ci)=>{Ci.exports=mu;var pu=ge(),gu=Se().random,wu=Qt();function mu(e,r){r=pu(r,{maxX:1024,maxY:1024,seed:"Deterministic randomness made me do this"});var t=gu(r.seed),n=new wu(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),a={},i=function(d){return{x:t.next(r.maxX),y:t.next(r.maxY)}},f=function(d,w){d.x<w.x1&&(w.x1=d.x),d.x>w.x2&&(w.x2=d.x),d.y<w.y1&&(w.y1=d.y),d.y>w.y2&&(w.y2=d.y)},o=typeof Object.create=="function"?Object.create(null):{},h=function(d){o[d.id]=i(d),f(o[d.id],n)},s=function(){e.getNodesCount()!==0&&(n.x1=Number.MAX_VALUE,n.y1=Number.MAX_VALUE,n.x2=Number.MIN_VALUE,n.y2=Number.MIN_VALUE,e.forEachNode(h))},u=function(d){a[d.id]=d},E=function(d){for(var w=0;w<d.length;++w){var S=d[w];S.node&&(S.changeType==="add"?h(S.node):delete o[S.node.id]),S.link&&(S.changeType==="add"?u(S.link):delete a[S.link.id])}};return e.forEachNode(h),e.forEachLink(u),e.on("changed",E),{run:function(d){this.step()},step:function(){return s(),!0},getGraphRect:function(){return n},dispose:function(){e.off("change",E)},isNodePinned:function(d){return!0},pinNode:function(d,w){},getNodePosition:c,getLinkPosition:function(d){var w=a[d];return{from:c(w.fromId),to:c(w.toId)}},setNodePosition:function(d,w,S){var y=o[d];y&&(y.x=w,y.y=S)},placeNode:function(d){return typeof d=="function"?(i=d,s(),this):i(d)}};function c(d){return o[d]}}});var Jt=I((ph,zi)=>{zi.exports=xu;function xu(e){this.canvas=window.document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.isDirty=!1,this.canvas.width=this.canvas.height=e}});var er=I((gh,Pi)=>{var bu=Jt();Pi.exports=yu;function yu(e){var r=Math.sqrt(e||1024)<<0,t=r,n=1,a={},i,f=0,o=[],h=[];if(!Eu(e))throw"Tiles per texture should be power of two.";var s={isDirty:!1,clearDirty:u,remove:E,getTextures:c,getCoordinates:d,load:w};return s;function u(){var p;for(s.isDirty=!1,p=0;p<o.length;++p)o[p].isDirty=!1}function E(p){var R=a[p];if(!R)return!1;if(delete a[p],n-=1,n===R.offset)return!0;var A=L(R.offset),P=L(n);x(P,A);var b=a[h[n]];return b.offset=R.offset,h[R.offset]=h[n],v(),!0}function c(){return o}function d(p){return a[p]}function w(p,R){if(a.hasOwnProperty(p))R(a[p]);else{var A=new window.Image,P=n;n+=1,A.crossOrigin="anonymous",A.onload=function(){v(),y(P,A,R)},A.src=p}}function S(){var p=new bu(r*t);o.push(p)}function y(p,R,A){var P=L(p),b={offset:p};P.textureNumber>=o.length&&S();var N=o[P.textureNumber];N.ctx.drawImage(R,P.col*t,P.row*t,t,t),h[p]=R.src,a[R.src]=b,N.isDirty=!0,A(b)}function L(p){var R=p/e<<0,A=p%e,P=A/r<<0,b=A%r;return{textureNumber:R,row:P,col:b}}function k(){s.isDirty=!0,f=0,i=null}function v(){i&&(window.clearTimeout(i),f+=1,i=null),f>10?k():i=window.setTimeout(k,400)}function x(p,R){var A=o[p.textureNumber].canvas,P=o[R.textureNumber].ctx,b=R.col*t,N=R.row*t;P.drawImage(A,p.col*t,p.row*t,t,t,b,N,t,t),o[p.textureNumber].isDirty=!0,o[R.textureNumber].isDirty=!0}}function Eu(e){return(e&e-1)===0}});var Oi=I((wh,Ii)=>{var ku=er(),Lu=Be();Ii.exports=Nu;function Nu(a){var r=18,t=Su(),n=Au(),a=a||1024,i,f,o,h,s,u,E=0,c=new Float32Array(64),d,w,S,y;return{load:v,position:x,createNode:p,removeNode:R,replaceProperties:A,updateTransform:P,updateSize:b,render:N};function L(l,_){l.nativeObject&&o.deleteTexture(l.nativeObject);var C=o.createTexture();o.activeTexture(o["TEXTURE"+_]),o.bindTexture(o.TEXTURE_2D,C),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,l.canvas),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR_MIPMAP_NEAREST),o.generateMipmap(o.TEXTURE_2D),o.uniform1i(u["sampler"+_],_),l.nativeObject=C}function k(){if(i.isDirty){var l=i.getTextures(),_;for(_=0;_<l.length;++_)(l[_].isDirty||!l[_].nativeObject)&&L(l[_],_);i.clearDirty()}}function v(l){o=l,s=Lu(l),i=new ku(a),f=s.createProgram(n,t),o.useProgram(f),u=s.getLocations(f,["a_vertexPos","a_customAttributes","u_screenSize","u_transform","u_sampler0","u_sampler1","u_sampler2","u_sampler3","u_tilesPerTexture"]),o.uniform1f(u.tilesPerTexture,a),o.enableVertexAttribArray(u.vertexPos),o.enableVertexAttribArray(u.customAttributes),h=o.createBuffer()}function x(l,_){var C=l.id*r;c[C]=_.x-l.size,c[C+1]=-_.y-l.size,c[C+2]=l._offset*4,c[C+3]=_.x+l.size,c[C+4]=-_.y-l.size,c[C+5]=l._offset*4+1,c[C+6]=_.x-l.size,c[C+7]=-_.y+l.size,c[C+8]=l._offset*4+2,c[C+9]=_.x-l.size,c[C+10]=-_.y+l.size,c[C+11]=l._offset*4+2,c[C+12]=_.x+l.size,c[C+13]=-_.y-l.size,c[C+14]=l._offset*4+1,c[C+15]=_.x+l.size,c[C+16]=-_.y+l.size,c[C+17]=l._offset*4+3}function p(l){c=s.extendArray(c,E,r),E+=1;var _=i.getCoordinates(l.src);_?l._offset=_.offset:(l._offset=0,i.load(l.src,function(C){l._offset=C.offset}))}function R(l){E>0&&(E-=1),l.id<E&&E>0&&(l.src&&i.remove(l.src),s.copyArrayPart(c,l.id*r,E*r,r))}function A(l,_){_._offset=l._offset}function P(l){y=!0,S=l}function b(l,_){d=l,w=_,y=!0}function N(){o.useProgram(f),o.bindBuffer(o.ARRAY_BUFFER,h),o.bufferData(o.ARRAY_BUFFER,c,o.DYNAMIC_DRAW),y&&(y=!1,o.uniformMatrix4fv(u.transform,!1,S),o.uniform2f(u.screenSize,d,w)),o.vertexAttribPointer(u.vertexPos,2,o.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),o.vertexAttribPointer(u.customAttributes,1,o.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,2*4),k(),o.drawArrays(o.TRIANGLES,0,E*6)}}function Su(){return["precision mediump float;","varying vec4 color;","varying vec3 vTextureCoord;","uniform sampler2D u_sampler0;","uniform sampler2D u_sampler1;","uniform sampler2D u_sampler2;","uniform sampler2D u_sampler3;","void main(void) {","   if (vTextureCoord.z == 0.) {","     gl_FragColor = texture2D(u_sampler0, vTextureCoord.xy);","   } else if (vTextureCoord.z == 1.) {","     gl_FragColor = texture2D(u_sampler1, vTextureCoord.xy);","   } else if (vTextureCoord.z == 2.) {","     gl_FragColor = texture2D(u_sampler2, vTextureCoord.xy);","   } else if (vTextureCoord.z == 3.) {","     gl_FragColor = texture2D(u_sampler3, vTextureCoord.xy);","   } else { gl_FragColor = vec4(0, 1, 0, 1); }","}"].join(`
`)}function Au(){return["attribute vec2 a_vertexPos;","attribute float a_customAttributes;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","uniform float u_tilesPerTexture;","varying vec3 vTextureCoord;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos/u_screenSize, 0, 1);","float corner = mod(a_customAttributes, 4.);","float tileIndex = mod(floor(a_customAttributes / 4.), u_tilesPerTexture);","float tilesPerRow = sqrt(u_tilesPerTexture);","float tileSize = 1./tilesPerRow;","float tileColumn = mod(tileIndex, tilesPerRow);","float tileRow = floor(tileIndex/tilesPerRow);","if(corner == 0.0) {","  vTextureCoord.xy = vec2(0, 1);","} else if(corner == 1.0) {","  vTextureCoord.xy = vec2(1, 1);","} else if(corner == 2.0) {","  vTextureCoord.xy = vec2(0, 0);","} else {","  vTextureCoord.xy = vec2(1, 0);","}","vTextureCoord *= tileSize;","vTextureCoord.x += tileColumn * tileSize;","vTextureCoord.y += tileRow * tileSize;","vTextureCoord.z = floor(floor(a_customAttributes / 4.)/u_tilesPerTexture);","}"].join(`
`)}});var tr=I((mh,Mi)=>{var Tu=Be();Mi.exports=Ru;function Ru(){var e=6,r=2*(2*Float32Array.BYTES_PER_ELEMENT+Uint32Array.BYTES_PER_ELEMENT),t=["precision mediump float;","varying vec4 color;","void main(void) {","   gl_FragColor = color;","}"].join(`
`),n=["attribute vec2 a_vertexPos;","attribute vec4 a_color;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","varying vec4 color;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos/u_screenSize, 0.0, 1.0);","   color = a_color.abgr;","}"].join(`
`),a,i,f,o,h,s=0,u,E=new ArrayBuffer(16*r),c=new Float32Array(E),d=new Uint32Array(E),w,S,y,L,k=function(){if((s+1)*r>E.byteLength){var v=new ArrayBuffer(E.byteLength*2),x=new Float32Array(v),p=new Uint32Array(v);p.set(d),c=x,d=p,E=v}};return{load:function(v){i=v,o=Tu(v),a=o.createProgram(n,t),i.useProgram(a),h=o.getLocations(a,["a_vertexPos","a_color","u_screenSize","u_transform"]),i.enableVertexAttribArray(h.vertexPos),i.enableVertexAttribArray(h.color),f=i.createBuffer()},position:function(v,x,p){var R=v.id,A=R*e;c[A]=x.x,c[A+1]=x.y,d[A+2]=v.color,c[A+3]=p.x,c[A+4]=p.y,d[A+5]=v.color},createLink:function(v){k(),s+=1,u=v.id},removeLink:function(v){s>0&&(s-=1),v.id<s&&s>0&&o.copyArrayPart(d,v.id*e,s*e,e)},updateTransform:function(v){L=!0,y=v},updateSize:function(v,x){w=v,S=x,L=!0},render:function(){i.useProgram(a),i.bindBuffer(i.ARRAY_BUFFER,f),i.bufferData(i.ARRAY_BUFFER,E,i.DYNAMIC_DRAW),L&&(L=!1,i.uniformMatrix4fv(h.transform,!1,y),i.uniform2f(h.screenSize,w,S)),i.vertexAttribPointer(h.vertexPos,2,i.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),i.vertexAttribPointer(h.color,4,i.UNSIGNED_BYTE,!0,3*Float32Array.BYTES_PER_ELEMENT,2*4),i.drawArrays(i.LINES,0,s*2),u=s-1},bringToFront:function(v){u>v.id&&o.swapArrayPart(c,v.id*e,u*e,e),u>0&&(u-=1)},getFrontLinkId:function(){return u}}}});var rr=I((xh,qi)=>{var Cu=Be();qi.exports=Du;function Du(){var e=4,r=3*Float32Array.BYTES_PER_ELEMENT+Uint32Array.BYTES_PER_ELEMENT,t=["precision mediump float;","varying vec4 color;","void main(void) {","   gl_FragColor = color;","}"].join(`
`),n=["attribute vec3 a_vertexPos;","attribute vec4 a_color;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","varying vec4 color;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos.xy/u_screenSize, 0, 1);","   gl_PointSize = a_vertexPos.z * u_transform[0][0];","   color = a_color.abgr;","}"].join(`
`),a,i,f,o,h,s=new ArrayBuffer(16*r),u=new Float32Array(s),E=new Uint32Array(s),c=0,d,w,S,y;return{load:k,position:v,updateTransform:x,updateSize:p,removeNode:R,createNode:A,replaceProperties:P,render:b};function L(){if((c+1)*r>=s.byteLength){var N=new ArrayBuffer(s.byteLength*2),l=new Float32Array(N),_=new Uint32Array(N);_.set(E),u=l,E=_,s=N}}function k(N){i=N,h=Cu(N),a=h.createProgram(n,t),i.useProgram(a),o=h.getLocations(a,["a_vertexPos","a_color","u_screenSize","u_transform"]),i.enableVertexAttribArray(o.vertexPos),i.enableVertexAttribArray(o.color),f=i.createBuffer()}function v(N,l){var _=N.id;u[_*e]=l.x,u[_*e+1]=-l.y,u[_*e+2]=N.size,E[_*e+3]=N.color}function x(N){y=!0,S=N}function p(N,l){d=N,w=l,y=!0}function R(N){c>0&&(c-=1),N.id<c&&c>0&&h.copyArrayPart(E,N.id*e,c*e,e)}function A(){L(),c+=1}function P(){}function b(){i.useProgram(a),i.bindBuffer(i.ARRAY_BUFFER,f),i.bufferData(i.ARRAY_BUFFER,s,i.DYNAMIC_DRAW),y&&(y=!1,i.uniformMatrix4fv(o.transform,!1,S),i.uniform2f(o.screenSize,d,w)),i.vertexAttribPointer(o.vertexPos,3,i.FLOAT,!1,e*Float32Array.BYTES_PER_ELEMENT,0),i.vertexAttribPointer(o.color,4,i.UNSIGNED_BYTE,!0,e*Float32Array.BYTES_PER_ELEMENT,3*4),i.drawArrays(i.POINTS,0,c)}}});var ht=I((bh,Fi)=>{Fi.exports=zu;function zu(e){var r=10414335;if(typeof e=="string"&&e)if(e.length===4&&(e=e.replace(/([^#])/g,"$1$1")),e.length===9)r=parseInt(e.substr(1),16);else if(e.length===7)r=parseInt(e.substr(1),16)<<8|255;else throw'Color expected in hex format with preceding "#". E.g. #00ff00. Got value: '+e;else typeof e=="number"&&(r=e);return r}});var nr=I((yh,Bi)=>{var Pu=ht();Bi.exports=Iu;function Iu(e){return{color:Pu(e)}}});var ir=I((Eh,Ui)=>{var Ou=ht();Ui.exports=Mu;function Mu(e,r){return{size:typeof e=="number"?e:10,color:Ou(r)}}});var Yi=I((kh,Zi)=>{Zi.exports=qu;function qu(e,r){return{_texture:0,_offset:0,size:typeof e=="number"?e:32,src:r}}});var Xi=I((Lh,$i)=>{$i.exports=Hu;var Fu=Ht(),Bu=tr(),Uu=rr(),Zu=ir(),Yu=nr(),$u=we(),Xu=ge();function Hu(e){e=Xu(e,{enableBlending:!0,preserveDrawingBuffer:!1,clearColor:!1,clearColorValue:{r:1,g:1,b:1,a:1}});var r,t,n,a,i,f=0,o=0,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s,u,E=[],c=[],d,w={},S={},y=Bu(),L=Uu(),k=function(b){return Zu()},v=function(b){return Yu(3014898687)},x=function(){y.updateTransform(h),L.updateTransform(h)},p=function(){h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},R=function(){r&&t&&(a=t.width=Math.max(r.offsetWidth,1),i=t.height=Math.max(r.offsetHeight,1),n&&n.viewport(0,0,a,i),y&&y.updateSize(a/2,i/2),L&&L.updateSize(a/2,i/2))},A=function(b){b.fire("rescaled")};t=window.document.createElement("canvas");var P={getLinkUI:function(b){return S[b]},getNodeUI:function(b){return w[b]},node:function(b){if(typeof b=="function")return k=b,this},link:function(b){if(typeof b=="function")return v=b,this},placeNode:function(b){return s=b,this},placeLink:function(b){return u=b,this},inputManager:Fu,beginRender:function(){},endRender:function(){o>0&&y.render(),f>0&&L.render()},bringLinkToFront:function(b){var N=y.getFrontLinkId(),l,_;y.bringToFront(b),N>b.id&&(l=b.id,_=c[N],c[N]=c[l],c[N].id=N,c[l]=_,c[l].id=l)},graphCenterChanged:function(b,N){h[12]=2*b/a-1,h[13]=1-2*N/i,x()},addLink:function(b,N){var l=o++,_=v(b);return _.id=l,_.pos=N,y.createLink(_),c[l]=_,S[b.id]=_,_},addNode:function(b,N){var l=f++,_=k(b);return _.id=l,_.position=N,_.node=b,L.createNode(_),E[l]=_,w[b.id]=_,_},translateRel:function(b,N){h[12]+=2*h[0]*b/a/h[0],h[13]-=2*h[5]*N/i/h[5],x()},scale:function(b,N){var l=2*N.x/a-1,_=1-2*N.y/i;return l-=h[12],_-=h[13],h[12]+=l*(1-b),h[13]+=_*(1-b),h[0]*=b,h[5]*=b,x(),A(this),h[0]},resetScale:function(){return p(),n&&(R(),x()),this},updateSize:R,init:function(b){var N={};if(e.preserveDrawingBuffer&&(N.preserveDrawingBuffer=!0),r=b,R(),p(),r.appendChild(t),n=t.getContext("experimental-webgl",N),!n){var l="Could not initialize WebGL. Seems like the browser doesn't support it.";throw window.alert(l),l}if(e.enableBlending&&(n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.enable(n.BLEND)),e.clearColor){var _=e.clearColorValue;n.clearColor(_.r,_.g,_.b,_.a),this.beginRender=function(){n.clear(n.COLOR_BUFFER_BIT)}}y.load(n),y.updateSize(a/2,i/2),L.load(n),L.updateSize(a/2,i/2),x(),typeof d=="function"&&d(t)},release:function(b){t&&b&&b.removeChild(t)},isSupported:function(){var b=window.document.createElement("canvas"),N=b&&b.getContext&&b.getContext("experimental-webgl");return N},releaseLink:function(b){o>0&&(o-=1);var N=S[b.id];delete S[b.id],y.removeLink(N);var l=N.id;if(l<o){if(o===0||o===l)return;var _=c[o];c[l]=_,_.id=l}},releaseNode:function(b){f>0&&(f-=1);var N=w[b.id];delete w[b.id],L.removeNode(N);var l=N.id;if(l<f){if(f===0||f===l)return;var _=E[f];E[l]=_,_.id=l,L.replaceProperties(N,_)}},renderNodes:function(){for(var b={x:0,y:0},N=0;N<f;++N){var l=E[N];b.x=l.position.x,b.y=l.position.y,s&&s(l,b),L.position(l,b)}},renderLinks:function(){if(!this.omitLinksRendering)for(var b={x:0,y:0},N={x:0,y:0},l=0;l<o;++l){var _=c[l],C=_.pos.from;N.x=C.x,N.y=-C.y,C=_.pos.to,b.x=C.x,b.y=-C.y,u&&u(_,N,b),y.position(_,N,b)}},getGraphicsRoot:function(b){return typeof b=="function"&&(t?b(t):d=b),t},setNodeProgram:function(b){if(!n&&b)L=b;else if(b)throw"Not implemented. Cannot swap shader on the fly... Yet."},setLinkProgram:function(b){if(!n&&b)y=b;else if(b)throw"Not implemented. Cannot swap shader on the fly... Yet."},transformClientToGraphCoordinates:function(b){return b.x=2*b.x/a-1,b.y=1-2*b.y/i,b.x=(b.x-h[12])/h[0],b.y=(b.y-h[13])/h[5],b.x=b.x*(a/2),b.y=b.y*(-i/2),b},transformGraphToClientCoordinates:function(b){return b.x=b.x/(a/2),b.y=b.y/(-i/2),b.x=b.x*h[0]+h[12],b.y=b.y*h[5]+h[13],b.x=(b.x+1)*a/2,b.y=(1-b.y)*i/2,b},getNodeAtClientPos:function(b,N){if(typeof N!="function")return null;this.transformClientToGraphCoordinates(b);for(var l=0;l<f;++l)if(N(E[l],b.x,b.y))return E[l].node;return null}};return $u(P),P}});var Gi=I((Nh,Hi)=>{Hi.exports=Gu();function Gu(){return typeof DOMParser>"u"?{parseFromString:Vu}:new DOMParser}function Vu(){throw new Error("DOMParser is not supported by this platform. Please open issue here https://github.com/anvaka/simplesvg")}});var ji=I((Sh,Vi)=>{var ju=Gi(),Ku=vt();Vi.exports=Wu;function Wu(e){try{return e=Qu(e),Ku(ju.parseFromString(e,"text/xml").documentElement)}catch(r){throw r}}function Qu(e){if(!!e){var r='xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"',t=e.match(/^<\w+/);if(t){var n=t[0].length;return e.substr(0,n)+" "+r+" "+e.substr(n)}else throw new Error("Cannot parse input text: invalid xml?")}}});var Ji=I((Ah,Qi)=>{Qi.exports=Ju;var Ki=/{{(.+?)}}/;function Ju(e){var r=Object.create(null);return Wi(e,r),{link:function(t){Object.keys(r).forEach(function(a){var i=r[a];i.forEach(n)});function n(a){a(t)}}}}function Wi(e,r){var t=e.nodeType,n=t===1||t===3;if(!!n){var a;if(e.hasChildNodes()){var i=e.childNodes;for(a=0;a<i.length;++a)Wi(i[a],r)}if(t===3&&tl(e,r),!!e.attributes){var f=e.attributes;for(a=0;a<f.length;++a)el(f[a],e,r)}}}function el(e,r,t){var n=e.value;if(!n)return;var a=n.match(Ki);if(!a)return;var i=e.localName,f=a[1],o=f.indexOf(".")<0;if(!o)throw new Error("simplesvg currently does not support nested bindings");var h=t[f];h?h.push(s):h=t[f]=[s];function s(u){r.setAttributeNS(null,i,u[f])}}function tl(e,r){var t=e.nodeValue;if(!t)return;var n=t.match(Ki);if(!n)return;var a=n[1],i=a.indexOf(".")<0,f=r[a];f?f.push(o):f=r[a]=[o];function o(h){e.nodeValue=h[a]}}});var aa=I((Th,ia)=>{_t.removeEventListener=rl;_t.addEventListener=_t;ia.exports=_t;var Re=null;function _t(e,r,t,n){return Re=Re||(document.addEventListener?{add:ea,rm:ta}:{add:ra,rm:na}),Re.add(e,r,t,n)}function rl(e,r,t,n){return Re=Re||(document.addEventListener?{add:ea,rm:ta}:{add:ra,rm:na}),Re.rm(e,r,t,n)}function ea(e,r,t,n){e.addEventListener(r,t,n)}function ta(e,r,t,n){e.removeEventListener(r,t,n)}function ra(e,r,t,n){if(n)throw new Error("cannot useCapture in oldIE");e.attachEvent("on"+r,t)}function na(e,r,t,n){e.detachEvent("on"+r,t)}});var vt=I((Rh,ua)=>{ua.exports=pt;pt.compile=ji();var nl=pt.compileTemplate=Ji(),oa=aa(),il="http://www.w3.org/2000/svg",fa="http://www.w3.org/1999/xlink";function pt(e,r){var t=al(e);if(r===void 0)return t;for(var n=Object.keys(r),a=0;a<n.length;++a){var i=n[a],f=r[i];i==="link"?t.link(f):t.attr(i,f)}return t}function al(e){var r=e;if(typeof e=="string")r=window.document.createElementNS(il,e);else if(e.simplesvg)return e;var t;return r.simplesvg=!0,r.attr=o,r.append=f,r.link=h,r.text=s,r.on=a,r.off=i,r.dataSource=n,r;function n(u){return t||(t=nl(r)),t.link(u),r}function a(u,E,c){return oa.addEventListener(r,u,E,c),r}function i(u,E,c){return oa.removeEventListener(r,u,E,c),r}function f(u){var E=pt(u);return r.appendChild(E),E}function o(u,E){return arguments.length===2?(E!==null?r.setAttributeNS(null,u,E):r.removeAttributeNS(null,u),r):r.getAttributeNS(null,u)}function h(u){return arguments.length?(r.setAttributeNS(fa,"xlink:href",u),r):r.getAttributeNS(fa,"xlink:href")}function s(u){return u!==void 0?(r.textContent=u,r):r.textContent}}});var ar=I((Ch,la)=>{la.exports=ul;var gt=vt(),ol=we(),fl=ct();function ul(){var e,r,t=0,n=0,a,i=1,f={},o={},h=function(v){return gt("rect").attr("width",10).attr("height",10).attr("fill","#00a2e8")},s=function(v,x){v.attr("x",x.x-5).attr("y",x.y-5)},u=function(v){return gt("line").attr("stroke","#999")},E=function(v,x,p){v.attr("x1",x.x).attr("y1",x.y).attr("x2",p.x).attr("y2",p.y)},c=function(v){v.fire("rescaled")},d={x:0,y:0},w={x:0,y:0},S={x:0,y:0},y=function(){if(e){var v="matrix("+i+", 0, 0,"+i+","+t+","+n+")";e.attr("transform",v)}};r=k();var L={getNodeUI:function(v){return f[v]},getLinkUI:function(v){return o[v]},node:function(v){if(typeof v=="function")return h=v,this},link:function(v){if(typeof v=="function")return u=v,this},placeNode:function(v){return s=v,this},placeLink:function(v){return E=v,this},beginRender:function(){},endRender:function(){},graphCenterChanged:function(v,x){t=v,n=x,y()},inputManager:fl,translateRel:function(v,x){var p=r.createSVGPoint(),R=e.getCTM(),A=r.createSVGPoint().matrixTransform(R.inverse());p.x=v,p.y=x,p=p.matrixTransform(R.inverse()),p.x=(p.x-A.x)*R.a,p.y=(p.y-A.y)*R.d,R.e+=p.x,R.f+=p.y;var P="matrix("+R.a+", 0, 0,"+R.d+","+R.e+","+R.f+")";e.attr("transform",P)},scale:function(v,x){var p=r.createSVGPoint();p.x=x.x,p.y=x.y,p=p.matrixTransform(e.getCTM().inverse());var R=r.createSVGMatrix().translate(p.x,p.y).scale(v).translate(-p.x,-p.y),A=e.getCTM().multiply(R);i=A.a,t=A.e,n=A.f;var P="matrix("+A.a+", 0, 0,"+A.d+","+A.e+","+A.f+")";return e.attr("transform",P),c(this),i},resetScale:function(){i=1;var v="matrix(1, 0, 0, 1, 0, 0)";return e.attr("transform",v),c(this),this},init:function(v){v.appendChild(r),y(),typeof a=="function"&&a(r)},release:function(v){r&&v&&v.removeChild(r)},addLink:function(v,x){var p=u(v);if(!!p)return p.position=x,p.link=v,o[v.id]=p,e.childElementCount>0?e.insertBefore(p,e.firstChild):e.appendChild(p),p},releaseLink:function(v){var x=o[v.id];x&&(e.removeChild(x),delete o[v.id])},addNode:function(v,x){var p=h(v);if(!!p)return p.position=x,p.node=v,f[v.id]=p,e.appendChild(p),p},releaseNode:function(v){var x=f[v.id];x&&(e.removeChild(x),delete f[v.id])},renderNodes:function(){for(var v in f)if(f.hasOwnProperty(v)){var x=f[v];d.x=x.position.x,d.y=x.position.y,s(x,d,x.node)}},renderLinks:function(){for(var v in o)if(o.hasOwnProperty(v)){var x=o[v];w.x=x.position.from.x,w.y=x.position.from.y,S.x=x.position.to.x,S.y=x.position.to.y,E(x,w,S,x.link)}},getGraphicsRoot:function(v){return typeof v=="function"&&(r?v(r):a=v),r},getSvgRoot:function(){return r}};return ol(L),L;function k(){var v=gt("svg");return e=gt("g").attr("buffered-rendering","dynamic"),v.appendChild(e),v}}});var ca=I((Dh,sa)=>{var ll=Mt();sa.exports=sl();function sl(){return typeof window>"u"?ll:{on:cl,off:dl}}function cl(e,r){window.addEventListener(e,r)}function dl(e,r){window.removeEventListener(e,r)}});var ga=I((zh,pa)=>{pa.exports=gl;var hl=we(),vl=Wt(),_l=ar(),da=ca(),pl=ct(),ha=Gt(),va=Vt(),_a=st();function gl(e,r){var t=30;r=r||{};var n=r.layout,a=r.graphics,i=r.container,f=r.interactive!==void 0?r.interactive:!0,o,h,s=!1,u=!0,E=!1,c=!1,d=!1,w={offsetX:0,offsetY:0,scale:1},S=hl({}),y;return{run:function(D){return s||(k(),A(),F(),P(),z(),s=!0),p(D),this},reset:function(){a.resetScale(),P(),w.scale=1},pause:function(){d=!0,h.stop()},resume:function(){d=!1,h.restart()},rerender:function(){return v(),this},zoomOut:function(){return T(!0)},zoomIn:function(){return T(!1)},getTransform:function(){return w},moveTo:function(D,q){a.graphCenterChanged(w.offsetX-D*w.scale,w.offsetY-q*w.scale),v()},getGraphics:function(){return a},getLayout:function(){return n},dispose:function(){M()},on:function(D,q){return S.on(D,q),this},off:function(D,q){return S.off(D,q),this}};function L(D){return typeof f=="string"?f.indexOf(D)>=0:typeof f=="boolean"?f:!0}function k(){i=i||window.document.body,n=n||vl(e,{springLength:80,springCoeff:2e-4}),a=a||_l(e,{container:i}),r.hasOwnProperty("renderLinks")||(r.renderLinks=!0),r.prerender=r.prerender||0,o=(a.inputManager||pl)(e,a)}function v(){a.beginRender(),r.renderLinks&&a.renderLinks(),a.renderNodes(),a.endRender()}function x(){return E=n.step()&&!c,v(),!E}function p(D){h||(D!==void 0?h=ha(function(){if(D-=1,D<0){var q=!1;return q}return x()},t):h=ha(x,t))}function R(){d||(E=!1,h.restart())}function A(){if(typeof r.prerender=="number"&&r.prerender>0)for(var D=0;D<r.prerender;D+=1)n.step()}function P(){var D=n.getGraphRect(),q=va(i),j=(D.x2+D.x1)/2,pe=(D.y2+D.y1)/2;w.offsetX=q.width/2-(j*w.scale-j),w.offsetY=q.height/2-(pe*w.scale-pe),a.graphCenterChanged(w.offsetX,w.offsetY),u=!1}function b(D){var q=n.getNodePosition(D.id);a.addNode(D,q)}function N(D){a.releaseNode(D)}function l(D){var q=n.getLinkPosition(D.id);a.addLink(D,q)}function _(D){a.releaseLink(D)}function C(D){if(!!L("node")){var q=!1;o.bindDragNDrop(D,{onStart:function(){q=n.isNodePinned(D),n.pinNode(D,!0),c=!0,R()},onDrag:function(j,pe){var Mr=n.getNodePosition(D.id);n.setNodePosition(D.id,Mr.x+pe.x/w.scale,Mr.y+pe.y/w.scale),c=!0,v()},onStop:function(){n.pinNode(D,q),c=!1}})}}function O(D){o.bindDragNDrop(D,null)}function F(){a.init(i),e.forEachNode(b),r.renderLinks&&e.forEachLink(l)}function $(){a.release(i)}function re(D){var q=D.node;D.changeType==="add"?(b(q),C(q),u&&P()):D.changeType==="remove"?(O(q),N(q),e.getNodesCount()===0&&(u=!0)):D.changeType==="update"&&(O(q),N(q),b(q),C(q))}function ne(D){var q=D.link;if(D.changeType==="add")r.renderLinks&&l(q);else if(D.changeType==="remove")r.renderLinks&&_(q);else if(D.changeType==="update")throw"Update type is not implemented. TODO: Implement me!"}function W(D){var q,j;for(q=0;q<D.length;q+=1)j=D[q],j.node?re(j):j.link&&ne(j);R()}function Z(){P(),x()}function g(){y&&(y.release(),y=null)}function m(){e.off("changed",W)}function T(D,q){if(!q){var j=va(i);q={x:j.width/2,y:j.height/2}}var pe=Math.pow(1+.4,D?-.2:.2);return w.scale=a.scale(pe,q),v(),S.fire("scale",w.scale),w.scale}function z(){da.on("resize",Z),g(),L("drag")&&(y=_a(i),y.onDrag(function(D,q){a.translateRel(q.x,q.y),v(),S.fire("drag",q)})),L("scroll")&&(y||(y=_a(i)),y.onScroll(function(D,q,j){T(q<0,j)})),e.forEachNode(C),m(),e.on("changed",W)}function M(){s=!1,m(),g(),da.off("resize",Z),S.off(),h.stop(),e.forEachLink(function(D){r.renderLinks&&_(D)}),e.forEachNode(function(D){O(D),N(D)}),n.dispose(),$()}}});var or=I((Ph,ma)=>{var wt=Se(),wa={lazyExtend:function(){return ge().apply(this,arguments)},randomIterator:function(){return wt.randomIterator.apply(wt,arguments)},random:function(){return wt.random.apply(wt,arguments)},events:we()};wa.Graph={version:Hr(),graph:Kr(),serializer:function(){return{loadFromJSON:on(),storeToJSON:un()}},centrality:bn(),operations:En(),geom:function(){return{intersect:It(),intersectRect:Nn()}},webgl:Be(),webglInputEvents:Ft(),generator:function(){return Bn()},Input:{domInputManager:ct(),webglInputManager:Ht()},Utils:{dragndrop:st(),findElementPosition:Xt(),timer:Gt(),getDimension:Vt(),events:Wn()},Layout:{forceDirected:Wt(),constant:Di()},View:{Texture:Jt(),webglAtlas:er(),webglImageNodeProgram:Oi(),webglLinkProgram:tr(),webglNodeProgram:rr(),webglLine:nr(),webglSquare:ir(),webglImage:Yi(),webglGraphics:Xi(),_webglUtil:{parseColor:ht()},svgGraphics:ar(),renderer:ga(),cssGraphics:function(){throw new Error("cssGraphics is deprecated. Please use older version of vivagraph (< 0.7) if you need it")},svgNodeFactory:function(){throw new Error("svgNodeFactory is deprecated. Please use older version of vivagraph (< 0.7) if you need it")},community:function(){throw new Error("community is deprecated. Please use vivagraph < 0.7 if you need it, or `https://github.com/anvaka/ngraph.slpa` module")}},Rect:Qt(),svg:vt(),BrowserInfo:$t()};ma.exports=wa});var ot=Fr(or(),1);function Oe(e){let r=e.length;for(;--r>=0;)e[r]=0}var wl=0,io=1,ml=2,xl=3,bl=258,Rr=29,rt=256,Ve=rt+1+Rr,ze=30,Cr=19,ao=2*Ve+1,me=15,fr=16,yl=7,Dr=256,oo=16,fo=17,uo=18,br=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),kt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),El=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),lo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kl=512,le=new Array((Ve+2)*2);Oe(le);var Xe=new Array(ze*2);Oe(Xe);var je=new Array(kl);Oe(je);var Ke=new Array(bl-xl+1);Oe(Ke);var zr=new Array(Rr);Oe(zr);var Lt=new Array(ze);Oe(Lt);function ur(e,r,t,n,a){this.static_tree=e,this.extra_bits=r,this.extra_base=t,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}var so,co,ho;function lr(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}var vo=e=>e<256?je[e]:je[256+(e>>>7)],We=(e,r)=>{e.pending_buf[e.pending++]=r&255,e.pending_buf[e.pending++]=r>>>8&255},K=(e,r,t)=>{e.bi_valid>fr-t?(e.bi_buf|=r<<e.bi_valid&65535,We(e,e.bi_buf),e.bi_buf=r>>fr-e.bi_valid,e.bi_valid+=t-fr):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=t)},ae=(e,r,t)=>{K(e,t[r*2],t[r*2+1])},_o=(e,r)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--r>0);return t>>>1},Ll=e=>{e.bi_valid===16?(We(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Nl=(e,r)=>{let t=r.dyn_tree,n=r.max_code,a=r.stat_desc.static_tree,i=r.stat_desc.has_stree,f=r.stat_desc.extra_bits,o=r.stat_desc.extra_base,h=r.stat_desc.max_length,s,u,E,c,d,w,S=0;for(c=0;c<=me;c++)e.bl_count[c]=0;for(t[e.heap[e.heap_max]*2+1]=0,s=e.heap_max+1;s<ao;s++)u=e.heap[s],c=t[t[u*2+1]*2+1]+1,c>h&&(c=h,S++),t[u*2+1]=c,!(u>n)&&(e.bl_count[c]++,d=0,u>=o&&(d=f[u-o]),w=t[u*2],e.opt_len+=w*(c+d),i&&(e.static_len+=w*(a[u*2+1]+d)));if(S!==0){do{for(c=h-1;e.bl_count[c]===0;)c--;e.bl_count[c]--,e.bl_count[c+1]+=2,e.bl_count[h]--,S-=2}while(S>0);for(c=h;c!==0;c--)for(u=e.bl_count[c];u!==0;)E=e.heap[--s],!(E>n)&&(t[E*2+1]!==c&&(e.opt_len+=(c-t[E*2+1])*t[E*2],t[E*2+1]=c),u--)}},po=(e,r,t)=>{let n=new Array(me+1),a=0,i,f;for(i=1;i<=me;i++)a=a+t[i-1]<<1,n[i]=a;for(f=0;f<=r;f++){let o=e[f*2+1];o!==0&&(e[f*2]=_o(n[o]++,o))}},Sl=()=>{let e,r,t,n,a,i=new Array(me+1);for(t=0,n=0;n<Rr-1;n++)for(zr[n]=t,e=0;e<1<<br[n];e++)Ke[t++]=n;for(Ke[t-1]=n,a=0,n=0;n<16;n++)for(Lt[n]=a,e=0;e<1<<kt[n];e++)je[a++]=n;for(a>>=7;n<ze;n++)for(Lt[n]=a<<7,e=0;e<1<<kt[n]-7;e++)je[256+a++]=n;for(r=0;r<=me;r++)i[r]=0;for(e=0;e<=143;)le[e*2+1]=8,e++,i[8]++;for(;e<=255;)le[e*2+1]=9,e++,i[9]++;for(;e<=279;)le[e*2+1]=7,e++,i[7]++;for(;e<=287;)le[e*2+1]=8,e++,i[8]++;for(po(le,Ve+1,i),e=0;e<ze;e++)Xe[e*2+1]=5,Xe[e*2]=_o(e,5);so=new ur(le,br,rt+1,Ve,me),co=new ur(Xe,kt,0,ze,me),ho=new ur(new Array(0),El,0,Cr,yl)},go=e=>{let r;for(r=0;r<Ve;r++)e.dyn_ltree[r*2]=0;for(r=0;r<ze;r++)e.dyn_dtree[r*2]=0;for(r=0;r<Cr;r++)e.bl_tree[r*2]=0;e.dyn_ltree[Dr*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},wo=e=>{e.bi_valid>8?We(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},xa=(e,r,t,n)=>{let a=r*2,i=t*2;return e[a]<e[i]||e[a]===e[i]&&n[r]<=n[t]},sr=(e,r,t)=>{let n=e.heap[t],a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&xa(r,e.heap[a+1],e.heap[a],e.depth)&&a++,!xa(r,n,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=n},ba=(e,r,t)=>{let n,a,i=0,f,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],n===0?ae(e,a,r):(f=Ke[a],ae(e,f+rt+1,r),o=br[f],o!==0&&(a-=zr[f],K(e,a,o)),n--,f=vo(n),ae(e,f,t),o=kt[f],o!==0&&(n-=Lt[f],K(e,n,o)));while(i<e.sym_next);ae(e,Dr,r)},yr=(e,r)=>{let t=r.dyn_tree,n=r.stat_desc.static_tree,a=r.stat_desc.has_stree,i=r.stat_desc.elems,f,o,h=-1,s;for(e.heap_len=0,e.heap_max=ao,f=0;f<i;f++)t[f*2]!==0?(e.heap[++e.heap_len]=h=f,e.depth[f]=0):t[f*2+1]=0;for(;e.heap_len<2;)s=e.heap[++e.heap_len]=h<2?++h:0,t[s*2]=1,e.depth[s]=0,e.opt_len--,a&&(e.static_len-=n[s*2+1]);for(r.max_code=h,f=e.heap_len>>1;f>=1;f--)sr(e,t,f);s=i;do f=e.heap[1],e.heap[1]=e.heap[e.heap_len--],sr(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=f,e.heap[--e.heap_max]=o,t[s*2]=t[f*2]+t[o*2],e.depth[s]=(e.depth[f]>=e.depth[o]?e.depth[f]:e.depth[o])+1,t[f*2+1]=t[o*2+1]=s,e.heap[1]=s++,sr(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Nl(e,r),po(t,h,e.bl_count)},ya=(e,r,t)=>{let n,a=-1,i,f=r[0*2+1],o=0,h=7,s=4;for(f===0&&(h=138,s=3),r[(t+1)*2+1]=65535,n=0;n<=t;n++)i=f,f=r[(n+1)*2+1],!(++o<h&&i===f)&&(o<s?e.bl_tree[i*2]+=o:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[oo*2]++):o<=10?e.bl_tree[fo*2]++:e.bl_tree[uo*2]++,o=0,a=i,f===0?(h=138,s=3):i===f?(h=6,s=3):(h=7,s=4))},Ea=(e,r,t)=>{let n,a=-1,i,f=r[0*2+1],o=0,h=7,s=4;for(f===0&&(h=138,s=3),n=0;n<=t;n++)if(i=f,f=r[(n+1)*2+1],!(++o<h&&i===f)){if(o<s)do ae(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==a&&(ae(e,i,e.bl_tree),o--),ae(e,oo,e.bl_tree),K(e,o-3,2)):o<=10?(ae(e,fo,e.bl_tree),K(e,o-3,3)):(ae(e,uo,e.bl_tree),K(e,o-11,7));o=0,a=i,f===0?(h=138,s=3):i===f?(h=6,s=3):(h=7,s=4)}},Al=e=>{let r;for(ya(e,e.dyn_ltree,e.l_desc.max_code),ya(e,e.dyn_dtree,e.d_desc.max_code),yr(e,e.bl_desc),r=Cr-1;r>=3&&e.bl_tree[lo[r]*2+1]===0;r--);return e.opt_len+=3*(r+1)+5+5+4,r},Tl=(e,r,t,n)=>{let a;for(K(e,r-257,5),K(e,t-1,5),K(e,n-4,4),a=0;a<n;a++)K(e,e.bl_tree[lo[a]*2+1],3);Ea(e,e.dyn_ltree,r-1),Ea(e,e.dyn_dtree,t-1)},Rl=e=>{let r=4093624447,t;for(t=0;t<=31;t++,r>>>=1)if(r&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<rt;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},ka=!1,Cl=e=>{ka||(Sl(),ka=!0),e.l_desc=new lr(e.dyn_ltree,so),e.d_desc=new lr(e.dyn_dtree,co),e.bl_desc=new lr(e.bl_tree,ho),e.bi_buf=0,e.bi_valid=0,go(e)},mo=(e,r,t,n)=>{K(e,(wl<<1)+(n?1:0),3),wo(e),We(e,t),We(e,~t),t&&e.pending_buf.set(e.window.subarray(r,r+t),e.pending),e.pending+=t},Dl=e=>{K(e,io<<1,3),ae(e,Dr,le),Ll(e)},zl=(e,r,t,n)=>{let a,i,f=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Rl(e)),yr(e,e.l_desc),yr(e,e.d_desc),f=Al(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=t+5,t+4<=a&&r!==-1?mo(e,r,t,n):e.strategy===4||i===a?(K(e,(io<<1)+(n?1:0),3),ba(e,le,Xe)):(K(e,(ml<<1)+(n?1:0),3),Tl(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),ba(e,e.dyn_ltree,e.dyn_dtree)),go(e),n&&wo(e)},Pl=(e,r,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=r,e.pending_buf[e.sym_buf+e.sym_next++]=r>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,r===0?e.dyn_ltree[t*2]++:(e.matches++,r--,e.dyn_ltree[(Ke[t]+rt+1)*2]++,e.dyn_dtree[vo(r)*2]++),e.sym_next===e.sym_end),Il=Cl,Ol=mo,Ml=zl,ql=Pl,Fl=Dl,Bl={_tr_init:Il,_tr_stored_block:Ol,_tr_flush_block:Ml,_tr_tally:ql,_tr_align:Fl},Ul=(e,r,t,n)=>{let a=e&65535|0,i=e>>>16&65535|0,f=0;for(;t!==0;){f=t>2e3?2e3:t,t-=f;do a=a+r[n++]|0,i=i+a|0;while(--f);a%=65521,i%=65521}return a|i<<16|0},Qe=Ul,Zl=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},Yl=new Uint32Array(Zl()),$l=(e,r,t,n)=>{let a=Yl,i=n+t;e^=-1;for(let f=n;f<i;f++)e=e>>>8^a[(e^r[f])&255];return e^-1},X=$l,ye={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Le={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Xl,_tr_stored_block:Er,_tr_flush_block:Hl,_tr_tally:he,_tr_align:Gl}=Bl,{Z_NO_FLUSH:ve,Z_PARTIAL_FLUSH:Vl,Z_FULL_FLUSH:jl,Z_FINISH:ee,Z_BLOCK:La,Z_OK:H,Z_STREAM_END:Na,Z_STREAM_ERROR:oe,Z_DATA_ERROR:Kl,Z_BUF_ERROR:cr,Z_DEFAULT_COMPRESSION:Wl,Z_FILTERED:Ql,Z_HUFFMAN_ONLY:mt,Z_RLE:Jl,Z_FIXED:es,Z_DEFAULT_STRATEGY:ts,Z_UNKNOWN:rs,Z_DEFLATED:At}=Le,ns=9,is=15,as=8,os=29,fs=256,kr=fs+1+os,us=30,ls=19,ss=2*kr+1,cs=15,B=3,de=258,fe=de+B+1,ds=32,Pe=42,Pr=57,Lr=69,Nr=73,Sr=91,Ar=103,xe=113,Ye=666,V=1,Me=2,Ee=3,qe=4,hs=3,be=(e,r)=>(e.msg=ye[r],r),Sa=e=>e*2-(e>4?9:0),ce=e=>{let r=e.length;for(;--r>=0;)e[r]=0},vs=e=>{let r,t,n,a=e.w_size;r=e.hash_size,n=r;do t=e.head[--n],e.head[n]=t>=a?t-a:0;while(--r);r=a,n=r;do t=e.prev[--n],e.prev[n]=t>=a?t-a:0;while(--r)},_s=(e,r,t)=>(r<<e.hash_shift^t)&e.hash_mask,_e=_s,Q=e=>{let r=e.state,t=r.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+t),e.next_out),e.next_out+=t,r.pending_out+=t,e.total_out+=t,e.avail_out-=t,r.pending-=t,r.pending===0&&(r.pending_out=0))},J=(e,r)=>{Hl(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,Q(e.strm)},U=(e,r)=>{e.pending_buf[e.pending++]=r},Ze=(e,r)=>{e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=r&255},Tr=(e,r,t,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,r.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=Qe(e.adler,r,a,t):e.state.wrap===2&&(e.adler=X(e.adler,r,a,t)),e.next_in+=a,e.total_in+=a,a)},xo=(e,r)=>{let t=e.max_chain_length,n=e.strstart,a,i,f=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-fe?e.strstart-(e.w_size-fe):0,s=e.window,u=e.w_mask,E=e.prev,c=e.strstart+de,d=s[n+f-1],w=s[n+f];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(a=r,!(s[a+f]!==w||s[a+f-1]!==d||s[a]!==s[n]||s[++a]!==s[n+1])){n+=2,a++;do;while(s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&s[++n]===s[++a]&&n<c);if(i=de-(c-n),n=c-de,i>f){if(e.match_start=r,f=i,i>=o)break;d=s[n+f-1],w=s[n+f]}}while((r=E[r&u])>h&&--t!==0);return f<=e.lookahead?f:e.lookahead},Ie=e=>{let r=e.w_size,t,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-fe)&&(e.window.set(e.window.subarray(r,r+r-n),0),e.match_start-=r,e.strstart-=r,e.block_start-=r,e.insert>e.strstart&&(e.insert=e.strstart),vs(e),n+=r),e.strm.avail_in===0)break;if(t=Tr(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=B)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=_e(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=_e(e,e.ins_h,e.window[a+B-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<B)););}while(e.lookahead<fe&&e.strm.avail_in!==0)},bo=(e,r)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,i,f=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>i&&(n=i),n<t&&(n===0&&r!==ee||r===ve||n!==a+e.strm.avail_in)))break;f=r===ee&&n===a+e.strm.avail_in?1:0,Er(e,0,0,f),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Q(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(Tr(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(f===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),f?qe:r!==ve&&r!==ee&&e.strm.avail_in===0&&e.strstart===e.block_start?Me:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Tr(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,t=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=t||(a||r===ee)&&r!==ve&&e.strm.avail_in===0&&a<=i)&&(n=a>i?i:a,f=r===ee&&e.strm.avail_in===0&&n===a?1:0,Er(e,e.block_start,n,f),e.block_start+=n,Q(e.strm)),f?Ee:V)},dr=(e,r)=>{let t,n;for(;;){if(e.lookahead<fe){if(Ie(e),e.lookahead<fe&&r===ve)return V;if(e.lookahead===0)break}if(t=0,e.lookahead>=B&&(e.ins_h=_e(e,e.ins_h,e.window[e.strstart+B-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-fe&&(e.match_length=xo(e,t)),e.match_length>=B)if(n=he(e,e.strstart-e.match_start,e.match_length-B),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=B){e.match_length--;do e.strstart++,e.ins_h=_e(e,e.ins_h,e.window[e.strstart+B-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=_e(e,e.ins_h,e.window[e.strstart+1]);else n=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(J(e,!1),e.strm.avail_out===0))return V}return e.insert=e.strstart<B-1?e.strstart:B-1,r===ee?(J(e,!0),e.strm.avail_out===0?Ee:qe):e.sym_next&&(J(e,!1),e.strm.avail_out===0)?V:Me},Ce=(e,r)=>{let t,n,a;for(;;){if(e.lookahead<fe){if(Ie(e),e.lookahead<fe&&r===ve)return V;if(e.lookahead===0)break}if(t=0,e.lookahead>=B&&(e.ins_h=_e(e,e.ins_h,e.window[e.strstart+B-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=B-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-fe&&(e.match_length=xo(e,t),e.match_length<=5&&(e.strategy===Ql||e.match_length===B&&e.strstart-e.match_start>4096)&&(e.match_length=B-1)),e.prev_length>=B&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-B,n=he(e,e.strstart-1-e.prev_match,e.prev_length-B),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=_e(e,e.ins_h,e.window[e.strstart+B-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=B-1,e.strstart++,n&&(J(e,!1),e.strm.avail_out===0))return V}else if(e.match_available){if(n=he(e,0,e.window[e.strstart-1]),n&&J(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return V}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=he(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<B-1?e.strstart:B-1,r===ee?(J(e,!0),e.strm.avail_out===0?Ee:qe):e.sym_next&&(J(e,!1),e.strm.avail_out===0)?V:Me},ps=(e,r)=>{let t,n,a,i,f=e.window;for(;;){if(e.lookahead<=de){if(Ie(e),e.lookahead<=de&&r===ve)return V;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=B&&e.strstart>0&&(a=e.strstart-1,n=f[a],n===f[++a]&&n===f[++a]&&n===f[++a])){i=e.strstart+de;do;while(n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&a<i);e.match_length=de-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=B?(t=he(e,1,e.match_length-B),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(J(e,!1),e.strm.avail_out===0))return V}return e.insert=0,r===ee?(J(e,!0),e.strm.avail_out===0?Ee:qe):e.sym_next&&(J(e,!1),e.strm.avail_out===0)?V:Me},gs=(e,r)=>{let t;for(;;){if(e.lookahead===0&&(Ie(e),e.lookahead===0)){if(r===ve)return V;break}if(e.match_length=0,t=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(J(e,!1),e.strm.avail_out===0))return V}return e.insert=0,r===ee?(J(e,!0),e.strm.avail_out===0?Ee:qe):e.sym_next&&(J(e,!1),e.strm.avail_out===0)?V:Me};function ie(e,r,t,n,a){this.good_length=e,this.max_lazy=r,this.nice_length=t,this.max_chain=n,this.func=a}var $e=[new ie(0,0,0,0,bo),new ie(4,4,8,4,dr),new ie(4,5,16,8,dr),new ie(4,6,32,32,dr),new ie(4,4,16,16,Ce),new ie(8,16,32,32,Ce),new ie(8,16,128,128,Ce),new ie(8,32,128,256,Ce),new ie(32,128,258,1024,Ce),new ie(32,258,258,4096,Ce)],ws=e=>{e.window_size=2*e.w_size,ce(e.head),e.max_lazy_match=$e[e.level].max_lazy,e.good_match=$e[e.level].good_length,e.nice_match=$e[e.level].nice_length,e.max_chain_length=$e[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=B-1,e.match_available=0,e.ins_h=0};function ms(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=At,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ss*2),this.dyn_dtree=new Uint16Array((2*us+1)*2),this.bl_tree=new Uint16Array((2*ls+1)*2),ce(this.dyn_ltree),ce(this.dyn_dtree),ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(cs+1),this.heap=new Uint16Array(2*kr+1),ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*kr+1),ce(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var nt=e=>{if(!e)return 1;let r=e.state;return!r||r.strm!==e||r.status!==Pe&&r.status!==Pr&&r.status!==Lr&&r.status!==Nr&&r.status!==Sr&&r.status!==Ar&&r.status!==xe&&r.status!==Ye?1:0},yo=e=>{if(nt(e))return be(e,oe);e.total_in=e.total_out=0,e.data_type=rs;let r=e.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?Pr:r.wrap?Pe:xe,e.adler=r.wrap===2?0:1,r.last_flush=-2,Xl(r),H},Eo=e=>{let r=yo(e);return r===H&&ws(e.state),r},xs=(e,r)=>nt(e)||e.state.wrap!==2?oe:(e.state.gzhead=r,H),ko=(e,r,t,n,a,i)=>{if(!e)return oe;let f=1;if(r===Wl&&(r=6),n<0?(f=0,n=-n):n>15&&(f=2,n-=16),a<1||a>ns||t!==At||n<8||n>15||r<0||r>9||i<0||i>es||n===8&&f!==1)return be(e,oe);n===8&&(n=9);let o=new ms;return e.state=o,o.strm=e,o.status=Pe,o.wrap=f,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+B-1)/B),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=r,o.strategy=i,o.method=t,Eo(e)},bs=(e,r)=>ko(e,r,At,is,as,ts),ys=(e,r)=>{if(nt(e)||r>La||r<0)return e?be(e,oe):oe;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ye&&r!==ee)return be(e,e.avail_out===0?cr:oe);let n=t.last_flush;if(t.last_flush=r,t.pending!==0){if(Q(e),e.avail_out===0)return t.last_flush=-1,H}else if(e.avail_in===0&&Sa(r)<=Sa(n)&&r!==ee)return be(e,cr);if(t.status===Ye&&e.avail_in!==0)return be(e,cr);if(t.status===Pe&&t.wrap===0&&(t.status=xe),t.status===Pe){let a=At+(t.w_bits-8<<4)<<8,i=-1;if(t.strategy>=mt||t.level<2?i=0:t.level<6?i=1:t.level===6?i=2:i=3,a|=i<<6,t.strstart!==0&&(a|=ds),a+=31-a%31,Ze(t,a),t.strstart!==0&&(Ze(t,e.adler>>>16),Ze(t,e.adler&65535)),e.adler=1,t.status=xe,Q(e),t.pending!==0)return t.last_flush=-1,H}if(t.status===Pr){if(e.adler=0,U(t,31),U(t,139),U(t,8),t.gzhead)U(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),U(t,t.gzhead.time&255),U(t,t.gzhead.time>>8&255),U(t,t.gzhead.time>>16&255),U(t,t.gzhead.time>>24&255),U(t,t.level===9?2:t.strategy>=mt||t.level<2?4:0),U(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(U(t,t.gzhead.extra.length&255),U(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=X(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Lr;else if(U(t,0),U(t,0),U(t,0),U(t,0),U(t,0),U(t,t.level===9?2:t.strategy>=mt||t.level<2?4:0),U(t,hs),t.status=xe,Q(e),t.pending!==0)return t.last_flush=-1,H}if(t.status===Lr){if(t.gzhead.extra){let a=t.pending,i=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+i>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=X(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=o,Q(e),t.pending!==0)return t.last_flush=-1,H;a=0,i-=o}let f=new Uint8Array(t.gzhead.extra);t.pending_buf.set(f.subarray(t.gzindex,t.gzindex+i),t.pending),t.pending+=i,t.gzhead.hcrc&&t.pending>a&&(e.adler=X(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=Nr}if(t.status===Nr){if(t.gzhead.name){let a=t.pending,i;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=X(e.adler,t.pending_buf,t.pending-a,a)),Q(e),t.pending!==0)return t.last_flush=-1,H;a=0}t.gzindex<t.gzhead.name.length?i=t.gzhead.name.charCodeAt(t.gzindex++)&255:i=0,U(t,i)}while(i!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=X(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=Sr}if(t.status===Sr){if(t.gzhead.comment){let a=t.pending,i;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=X(e.adler,t.pending_buf,t.pending-a,a)),Q(e),t.pending!==0)return t.last_flush=-1,H;a=0}t.gzindex<t.gzhead.comment.length?i=t.gzhead.comment.charCodeAt(t.gzindex++)&255:i=0,U(t,i)}while(i!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=X(e.adler,t.pending_buf,t.pending-a,a))}t.status=Ar}if(t.status===Ar){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Q(e),t.pending!==0))return t.last_flush=-1,H;U(t,e.adler&255),U(t,e.adler>>8&255),e.adler=0}if(t.status=xe,Q(e),t.pending!==0)return t.last_flush=-1,H}if(e.avail_in!==0||t.lookahead!==0||r!==ve&&t.status!==Ye){let a=t.level===0?bo(t,r):t.strategy===mt?gs(t,r):t.strategy===Jl?ps(t,r):$e[t.level].func(t,r);if((a===Ee||a===qe)&&(t.status=Ye),a===V||a===Ee)return e.avail_out===0&&(t.last_flush=-1),H;if(a===Me&&(r===Vl?Gl(t):r!==La&&(Er(t,0,0,!1),r===jl&&(ce(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Q(e),e.avail_out===0))return t.last_flush=-1,H}return r!==ee?H:t.wrap<=0?Na:(t.wrap===2?(U(t,e.adler&255),U(t,e.adler>>8&255),U(t,e.adler>>16&255),U(t,e.adler>>24&255),U(t,e.total_in&255),U(t,e.total_in>>8&255),U(t,e.total_in>>16&255),U(t,e.total_in>>24&255)):(Ze(t,e.adler>>>16),Ze(t,e.adler&65535)),Q(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?H:Na)},Es=e=>{if(nt(e))return oe;let r=e.state.status;return e.state=null,r===xe?be(e,Kl):H},ks=(e,r)=>{let t=r.length;if(nt(e))return oe;let n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==Pe||n.lookahead)return oe;if(a===1&&(e.adler=Qe(e.adler,r,t,0)),n.wrap=0,t>=n.w_size){a===0&&(ce(n.head),n.strstart=0,n.block_start=0,n.insert=0);let h=new Uint8Array(n.w_size);h.set(r.subarray(t-n.w_size,t),0),r=h,t=n.w_size}let i=e.avail_in,f=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=r,Ie(n);n.lookahead>=B;){let h=n.strstart,s=n.lookahead-(B-1);do n.ins_h=_e(n,n.ins_h,n.window[h+B-1]),n.prev[h&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=h,h++;while(--s);n.strstart=h,n.lookahead=B-1,Ie(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=B-1,n.match_available=0,e.next_in=f,e.input=o,e.avail_in=i,n.wrap=a,H},Ls=bs,Ns=ko,Ss=Eo,As=yo,Ts=xs,Rs=ys,Cs=Es,Ds=ks,zs="pako deflate (from Nodeca project)",He={deflateInit:Ls,deflateInit2:Ns,deflateReset:Ss,deflateResetKeep:As,deflateSetHeader:Ts,deflate:Rs,deflateEnd:Cs,deflateSetDictionary:Ds,deflateInfo:zs},Ps=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),Is=function(e){let r=Array.prototype.slice.call(arguments,1);for(;r.length;){let t=r.shift();if(!!t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)Ps(t,n)&&(e[n]=t[n])}}return e},Os=e=>{let r=0;for(let n=0,a=e.length;n<a;n++)r+=e[n].length;let t=new Uint8Array(r);for(let n=0,a=0,i=e.length;n<i;n++){let f=e[n];t.set(f,a),a+=f.length}return t},Tt={assign:Is,flattenChunks:Os},Lo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lo=!1}var Je=new Uint8Array(256);for(let e=0;e<256;e++)Je[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Je[254]=Je[254]=1;var Ms=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,n,a,i,f=e.length,o=0;for(a=0;a<f;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<f&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(o),i=0,a=0;i<o;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<f&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?r[i++]=t:t<2048?(r[i++]=192|t>>>6,r[i++]=128|t&63):t<65536?(r[i++]=224|t>>>12,r[i++]=128|t>>>6&63,r[i++]=128|t&63):(r[i++]=240|t>>>18,r[i++]=128|t>>>12&63,r[i++]=128|t>>>6&63,r[i++]=128|t&63);return r},qs=(e,r)=>{if(r<65534&&e.subarray&&Lo)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let n=0;n<r;n++)t+=String.fromCharCode(e[n]);return t},Fs=(e,r)=>{let t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let n,a,i=new Array(t*2);for(a=0,n=0;n<t;){let f=e[n++];if(f<128){i[a++]=f;continue}let o=Je[f];if(o>4){i[a++]=65533,n+=o-1;continue}for(f&=o===2?31:o===3?15:7;o>1&&n<t;)f=f<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}f<65536?i[a++]=f:(f-=65536,i[a++]=55296|f>>10&1023,i[a++]=56320|f&1023)}return qs(i,a)},Bs=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+Je[e[t]]>r?t:r},et={string2buf:Ms,buf2string:Fs,utf8border:Bs};function Us(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var No=Us,So=Object.prototype.toString,{Z_NO_FLUSH:Zs,Z_SYNC_FLUSH:Ys,Z_FULL_FLUSH:$s,Z_FINISH:Xs,Z_OK:Nt,Z_STREAM_END:Hs,Z_DEFAULT_COMPRESSION:Gs,Z_DEFAULT_STRATEGY:Vs,Z_DEFLATED:js}=Le;function it(e){this.options=Tt.assign({level:Gs,method:js,chunkSize:16384,windowBits:15,memLevel:8,strategy:Vs},e||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new No,this.strm.avail_out=0;let t=He.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(t!==Nt)throw new Error(ye[t]);if(r.header&&He.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(typeof r.dictionary=="string"?n=et.string2buf(r.dictionary):So.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,t=He.deflateSetDictionary(this.strm,n),t!==Nt)throw new Error(ye[t]);this._dict_set=!0}}it.prototype.push=function(e,r){let t=this.strm,n=this.options.chunkSize,a,i;if(this.ended)return!1;for(r===~~r?i=r:i=r===!0?Xs:Zs,typeof e=="string"?t.input=et.string2buf(e):So.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(i===Ys||i===$s)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=He.deflate(t,i),a===Hs)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=He.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Nt;if(t.avail_out===0){this.onData(t.output);continue}if(i>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};it.prototype.onData=function(e){this.chunks.push(e)};it.prototype.onEnd=function(e){e===Nt&&(this.result=Tt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ir(e,r){let t=new it(r);if(t.push(e,!0),t.err)throw t.msg||ye[t.err];return t.result}function Ks(e,r){return r=r||{},r.raw=!0,Ir(e,r)}function Ws(e,r){return r=r||{},r.gzip=!0,Ir(e,r)}var Qs=it,Js=Ir,ec=Ks,tc=Ws,rc=Le,nc={Deflate:Qs,deflate:Js,deflateRaw:ec,gzip:tc,constants:rc},xt=16209,ic=16191,ac=function(r,t){let n,a,i,f,o,h,s,u,E,c,d,w,S,y,L,k,v,x,p,R,A,P,b,N,l=r.state;n=r.next_in,b=r.input,a=n+(r.avail_in-5),i=r.next_out,N=r.output,f=i-(t-r.avail_out),o=i+(r.avail_out-257),h=l.dmax,s=l.wsize,u=l.whave,E=l.wnext,c=l.window,d=l.hold,w=l.bits,S=l.lencode,y=l.distcode,L=(1<<l.lenbits)-1,k=(1<<l.distbits)-1;e:do{w<15&&(d+=b[n++]<<w,w+=8,d+=b[n++]<<w,w+=8),v=S[d&L];t:for(;;){if(x=v>>>24,d>>>=x,w-=x,x=v>>>16&255,x===0)N[i++]=v&65535;else if(x&16){p=v&65535,x&=15,x&&(w<x&&(d+=b[n++]<<w,w+=8),p+=d&(1<<x)-1,d>>>=x,w-=x),w<15&&(d+=b[n++]<<w,w+=8,d+=b[n++]<<w,w+=8),v=y[d&k];r:for(;;){if(x=v>>>24,d>>>=x,w-=x,x=v>>>16&255,x&16){if(R=v&65535,x&=15,w<x&&(d+=b[n++]<<w,w+=8,w<x&&(d+=b[n++]<<w,w+=8)),R+=d&(1<<x)-1,R>h){r.msg="invalid distance too far back",l.mode=xt;break e}if(d>>>=x,w-=x,x=i-f,R>x){if(x=R-x,x>u&&l.sane){r.msg="invalid distance too far back",l.mode=xt;break e}if(A=0,P=c,E===0){if(A+=s-x,x<p){p-=x;do N[i++]=c[A++];while(--x);A=i-R,P=N}}else if(E<x){if(A+=s+E-x,x-=E,x<p){p-=x;do N[i++]=c[A++];while(--x);if(A=0,E<p){x=E,p-=x;do N[i++]=c[A++];while(--x);A=i-R,P=N}}}else if(A+=E-x,x<p){p-=x;do N[i++]=c[A++];while(--x);A=i-R,P=N}for(;p>2;)N[i++]=P[A++],N[i++]=P[A++],N[i++]=P[A++],p-=3;p&&(N[i++]=P[A++],p>1&&(N[i++]=P[A++]))}else{A=i-R;do N[i++]=N[A++],N[i++]=N[A++],N[i++]=N[A++],p-=3;while(p>2);p&&(N[i++]=N[A++],p>1&&(N[i++]=N[A++]))}}else if(x&64){r.msg="invalid distance code",l.mode=xt;break e}else{v=y[(v&65535)+(d&(1<<x)-1)];continue r}break}}else if(x&64)if(x&32){l.mode=ic;break e}else{r.msg="invalid literal/length code",l.mode=xt;break e}else{v=S[(v&65535)+(d&(1<<x)-1)];continue t}break}}while(n<a&&i<o);p=w>>3,n-=p,w-=p<<3,d&=(1<<w)-1,r.next_in=n,r.next_out=i,r.avail_in=n<a?5+(a-n):5-(n-a),r.avail_out=i<o?257+(o-i):257-(i-o),l.hold=d,l.bits=w},De=15,Aa=852,Ta=592,Ra=0,hr=1,Ca=2,oc=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fc=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uc=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lc=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),sc=(e,r,t,n,a,i,f,o)=>{let h=o.bits,s=0,u=0,E=0,c=0,d=0,w=0,S=0,y=0,L=0,k=0,v,x,p,R,A,P=null,b,N=new Uint16Array(De+1),l=new Uint16Array(De+1),_=null,C,O,F;for(s=0;s<=De;s++)N[s]=0;for(u=0;u<n;u++)N[r[t+u]]++;for(d=h,c=De;c>=1&&N[c]===0;c--);if(d>c&&(d=c),c===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(E=1;E<c&&N[E]===0;E++);for(d<E&&(d=E),y=1,s=1;s<=De;s++)if(y<<=1,y-=N[s],y<0)return-1;if(y>0&&(e===Ra||c!==1))return-1;for(l[1]=0,s=1;s<De;s++)l[s+1]=l[s]+N[s];for(u=0;u<n;u++)r[t+u]!==0&&(f[l[r[t+u]]++]=u);if(e===Ra?(P=_=f,b=20):e===hr?(P=oc,_=fc,b=257):(P=uc,_=lc,b=0),k=0,u=0,s=E,A=i,w=d,S=0,p=-1,L=1<<d,R=L-1,e===hr&&L>Aa||e===Ca&&L>Ta)return 1;for(;;){C=s-S,f[u]+1<b?(O=0,F=f[u]):f[u]>=b?(O=_[f[u]-b],F=P[f[u]-b]):(O=32+64,F=0),v=1<<s-S,x=1<<w,E=x;do x-=v,a[A+(k>>S)+x]=C<<24|O<<16|F|0;while(x!==0);for(v=1<<s-1;k&v;)v>>=1;if(v!==0?(k&=v-1,k+=v):k=0,u++,--N[s]===0){if(s===c)break;s=r[t+f[u]]}if(s>d&&(k&R)!==p){for(S===0&&(S=d),A+=E,w=s-S,y=1<<w;w+S<c&&(y-=N[w+S],!(y<=0));)w++,y<<=1;if(L+=1<<w,e===hr&&L>Aa||e===Ca&&L>Ta)return 1;p=k&R,a[p]=d<<24|w<<16|A-i|0}}return k!==0&&(a[A+k]=s-S<<24|64<<16|0),o.bits=d,0},Ge=sc,cc=0,Ao=1,To=2,{Z_FINISH:Da,Z_BLOCK:dc,Z_TREES:bt,Z_OK:ke,Z_STREAM_END:hc,Z_NEED_DICT:vc,Z_STREAM_ERROR:te,Z_DATA_ERROR:Ro,Z_MEM_ERROR:Co,Z_BUF_ERROR:_c,Z_DEFLATED:za}=Le,Rt=16180,Pa=16181,Ia=16182,Oa=16183,Ma=16184,qa=16185,Fa=16186,Ba=16187,Ua=16188,Za=16189,St=16190,ue=16191,vr=16192,Ya=16193,_r=16194,$a=16195,Xa=16196,Ha=16197,Ga=16198,yt=16199,Et=16200,Va=16201,ja=16202,Ka=16203,Wa=16204,Qa=16205,pr=16206,Ja=16207,eo=16208,Y=16209,Do=16210,zo=16211,pc=852,gc=592,wc=15,mc=wc,to=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function xc(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Ne=e=>{if(!e)return 1;let r=e.state;return!r||r.strm!==e||r.mode<Rt||r.mode>zo?1:0},Po=e=>{if(Ne(e))return te;let r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=Rt,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(pc),r.distcode=r.distdyn=new Int32Array(gc),r.sane=1,r.back=-1,ke},Io=e=>{if(Ne(e))return te;let r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,Po(e)},Oo=(e,r)=>{let t;if(Ne(e))return te;let n=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?te:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=t,n.wbits=r,Io(e))},Mo=(e,r)=>{if(!e)return te;let t=new xc;e.state=t,t.strm=e,t.window=null,t.mode=Rt;let n=Oo(e,r);return n!==ke&&(e.state=null),n},bc=e=>Mo(e,mc),ro=!0,gr,wr,yc=e=>{if(ro){gr=new Int32Array(512),wr=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Ge(Ao,e.lens,0,288,gr,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Ge(To,e.lens,0,32,wr,0,e.work,{bits:5}),ro=!1}e.lencode=gr,e.lenbits=9,e.distcode=wr,e.distbits=5},qo=(e,r,t,n)=>{let a,i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(r.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(r.subarray(t-n,t-n+a),i.wnext),n-=a,n?(i.window.set(r.subarray(t-n,t),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Ec=(e,r)=>{let t,n,a,i,f,o,h,s,u,E,c,d,w,S,y=0,L,k,v,x,p,R,A,P,b=new Uint8Array(4),N,l,_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ne(e)||!e.output||!e.input&&e.avail_in!==0)return te;t=e.state,t.mode===ue&&(t.mode=vr),f=e.next_out,a=e.output,h=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,s=t.hold,u=t.bits,E=o,c=h,P=ke;e:for(;;)switch(t.mode){case Rt:if(t.wrap===0){t.mode=vr;break}for(;u<16;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(t.wrap&2&&s===35615){t.wbits===0&&(t.wbits=15),t.check=0,b[0]=s&255,b[1]=s>>>8&255,t.check=X(t.check,b,2,0),s=0,u=0,t.mode=Pa;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((s&255)<<8)+(s>>8))%31){e.msg="incorrect header check",t.mode=Y;break}if((s&15)!==za){e.msg="unknown compression method",t.mode=Y;break}if(s>>>=4,u-=4,A=(s&15)+8,t.wbits===0&&(t.wbits=A),A>15||A>t.wbits){e.msg="invalid window size",t.mode=Y;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=s&512?Za:ue,s=0,u=0;break;case Pa:for(;u<16;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(t.flags=s,(t.flags&255)!==za){e.msg="unknown compression method",t.mode=Y;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=Y;break}t.head&&(t.head.text=s>>8&1),t.flags&512&&t.wrap&4&&(b[0]=s&255,b[1]=s>>>8&255,t.check=X(t.check,b,2,0)),s=0,u=0,t.mode=Ia;case Ia:for(;u<32;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}t.head&&(t.head.time=s),t.flags&512&&t.wrap&4&&(b[0]=s&255,b[1]=s>>>8&255,b[2]=s>>>16&255,b[3]=s>>>24&255,t.check=X(t.check,b,4,0)),s=0,u=0,t.mode=Oa;case Oa:for(;u<16;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}t.head&&(t.head.xflags=s&255,t.head.os=s>>8),t.flags&512&&t.wrap&4&&(b[0]=s&255,b[1]=s>>>8&255,t.check=X(t.check,b,2,0)),s=0,u=0,t.mode=Ma;case Ma:if(t.flags&1024){for(;u<16;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}t.length=s,t.head&&(t.head.extra_len=s),t.flags&512&&t.wrap&4&&(b[0]=s&255,b[1]=s>>>8&255,t.check=X(t.check,b,2,0)),s=0,u=0}else t.head&&(t.head.extra=null);t.mode=qa;case qa:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(A=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(i,i+d),A)),t.flags&512&&t.wrap&4&&(t.check=X(t.check,n,d,i)),o-=d,i+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Fa;case Fa:if(t.flags&2048){if(o===0)break e;d=0;do A=n[i+d++],t.head&&A&&t.length<65536&&(t.head.name+=String.fromCharCode(A));while(A&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=X(t.check,n,d,i)),o-=d,i+=d,A)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ba;case Ba:if(t.flags&4096){if(o===0)break e;d=0;do A=n[i+d++],t.head&&A&&t.length<65536&&(t.head.comment+=String.fromCharCode(A));while(A&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=X(t.check,n,d,i)),o-=d,i+=d,A)break e}else t.head&&(t.head.comment=null);t.mode=Ua;case Ua:if(t.flags&512){for(;u<16;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(t.wrap&4&&s!==(t.check&65535)){e.msg="header crc mismatch",t.mode=Y;break}s=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=ue;break;case Za:for(;u<32;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}e.adler=t.check=to(s),s=0,u=0,t.mode=St;case St:if(t.havedict===0)return e.next_out=f,e.avail_out=h,e.next_in=i,e.avail_in=o,t.hold=s,t.bits=u,vc;e.adler=t.check=1,t.mode=ue;case ue:if(r===dc||r===bt)break e;case vr:if(t.last){s>>>=u&7,u-=u&7,t.mode=pr;break}for(;u<3;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}switch(t.last=s&1,s>>>=1,u-=1,s&3){case 0:t.mode=Ya;break;case 1:if(yc(t),t.mode=yt,r===bt){s>>>=2,u-=2;break e}break;case 2:t.mode=Xa;break;case 3:e.msg="invalid block type",t.mode=Y}s>>>=2,u-=2;break;case Ya:for(s>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if((s&65535)!==(s>>>16^65535)){e.msg="invalid stored block lengths",t.mode=Y;break}if(t.length=s&65535,s=0,u=0,t.mode=_r,r===bt)break e;case _r:t.mode=$a;case $a:if(d=t.length,d){if(d>o&&(d=o),d>h&&(d=h),d===0)break e;a.set(n.subarray(i,i+d),f),o-=d,i+=d,h-=d,f+=d,t.length-=d;break}t.mode=ue;break;case Xa:for(;u<14;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(t.nlen=(s&31)+257,s>>>=5,u-=5,t.ndist=(s&31)+1,s>>>=5,u-=5,t.ncode=(s&15)+4,s>>>=4,u-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=Y;break}t.have=0,t.mode=Ha;case Ha:for(;t.have<t.ncode;){for(;u<3;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}t.lens[_[t.have++]]=s&7,s>>>=3,u-=3}for(;t.have<19;)t.lens[_[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,N={bits:t.lenbits},P=Ge(cc,t.lens,0,19,t.lencode,0,t.work,N),t.lenbits=N.bits,P){e.msg="invalid code lengths set",t.mode=Y;break}t.have=0,t.mode=Ga;case Ga:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[s&(1<<t.lenbits)-1],L=y>>>24,k=y>>>16&255,v=y&65535,!(L<=u);){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(v<16)s>>>=L,u-=L,t.lens[t.have++]=v;else{if(v===16){for(l=L+2;u<l;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(s>>>=L,u-=L,t.have===0){e.msg="invalid bit length repeat",t.mode=Y;break}A=t.lens[t.have-1],d=3+(s&3),s>>>=2,u-=2}else if(v===17){for(l=L+3;u<l;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}s>>>=L,u-=L,A=0,d=3+(s&7),s>>>=3,u-=3}else{for(l=L+7;u<l;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}s>>>=L,u-=L,A=0,d=11+(s&127),s>>>=7,u-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=Y;break}for(;d--;)t.lens[t.have++]=A}}if(t.mode===Y)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=Y;break}if(t.lenbits=9,N={bits:t.lenbits},P=Ge(Ao,t.lens,0,t.nlen,t.lencode,0,t.work,N),t.lenbits=N.bits,P){e.msg="invalid literal/lengths set",t.mode=Y;break}if(t.distbits=6,t.distcode=t.distdyn,N={bits:t.distbits},P=Ge(To,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,N),t.distbits=N.bits,P){e.msg="invalid distances set",t.mode=Y;break}if(t.mode=yt,r===bt)break e;case yt:t.mode=Et;case Et:if(o>=6&&h>=258){e.next_out=f,e.avail_out=h,e.next_in=i,e.avail_in=o,t.hold=s,t.bits=u,ac(e,c),f=e.next_out,a=e.output,h=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,s=t.hold,u=t.bits,t.mode===ue&&(t.back=-1);break}for(t.back=0;y=t.lencode[s&(1<<t.lenbits)-1],L=y>>>24,k=y>>>16&255,v=y&65535,!(L<=u);){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(k&&!(k&240)){for(x=L,p=k,R=v;y=t.lencode[R+((s&(1<<x+p)-1)>>x)],L=y>>>24,k=y>>>16&255,v=y&65535,!(x+L<=u);){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}s>>>=x,u-=x,t.back+=x}if(s>>>=L,u-=L,t.back+=L,t.length=v,k===0){t.mode=Qa;break}if(k&32){t.back=-1,t.mode=ue;break}if(k&64){e.msg="invalid literal/length code",t.mode=Y;break}t.extra=k&15,t.mode=Va;case Va:if(t.extra){for(l=t.extra;u<l;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}t.length+=s&(1<<t.extra)-1,s>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ja;case ja:for(;y=t.distcode[s&(1<<t.distbits)-1],L=y>>>24,k=y>>>16&255,v=y&65535,!(L<=u);){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(!(k&240)){for(x=L,p=k,R=v;y=t.distcode[R+((s&(1<<x+p)-1)>>x)],L=y>>>24,k=y>>>16&255,v=y&65535,!(x+L<=u);){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}s>>>=x,u-=x,t.back+=x}if(s>>>=L,u-=L,t.back+=L,k&64){e.msg="invalid distance code",t.mode=Y;break}t.offset=v,t.extra=k&15,t.mode=Ka;case Ka:if(t.extra){for(l=t.extra;u<l;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}t.offset+=s&(1<<t.extra)-1,s>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=Y;break}t.mode=Wa;case Wa:if(h===0)break e;if(d=c-h,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=Y;break}d>t.wnext?(d-=t.wnext,w=t.wsize-d):w=t.wnext-d,d>t.length&&(d=t.length),S=t.window}else S=a,w=f-t.offset,d=t.length;d>h&&(d=h),h-=d,t.length-=d;do a[f++]=S[w++];while(--d);t.length===0&&(t.mode=Et);break;case Qa:if(h===0)break e;a[f++]=t.length,h--,t.mode=Et;break;case pr:if(t.wrap){for(;u<32;){if(o===0)break e;o--,s|=n[i++]<<u,u+=8}if(c-=h,e.total_out+=c,t.total+=c,t.wrap&4&&c&&(e.adler=t.check=t.flags?X(t.check,a,c,f-c):Qe(t.check,a,c,f-c)),c=h,t.wrap&4&&(t.flags?s:to(s))!==t.check){e.msg="incorrect data check",t.mode=Y;break}s=0,u=0}t.mode=Ja;case Ja:if(t.wrap&&t.flags){for(;u<32;){if(o===0)break e;o--,s+=n[i++]<<u,u+=8}if(t.wrap&4&&s!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=Y;break}s=0,u=0}t.mode=eo;case eo:P=hc;break e;case Y:P=Ro;break e;case Do:return Co;case zo:default:return te}return e.next_out=f,e.avail_out=h,e.next_in=i,e.avail_in=o,t.hold=s,t.bits=u,(t.wsize||c!==e.avail_out&&t.mode<Y&&(t.mode<pr||r!==Da))&&qo(e,e.output,e.next_out,c-e.avail_out),E-=e.avail_in,c-=e.avail_out,e.total_in+=E,e.total_out+=c,t.total+=c,t.wrap&4&&c&&(e.adler=t.check=t.flags?X(t.check,a,c,e.next_out-c):Qe(t.check,a,c,e.next_out-c)),e.data_type=t.bits+(t.last?64:0)+(t.mode===ue?128:0)+(t.mode===yt||t.mode===_r?256:0),(E===0&&c===0||r===Da)&&P===ke&&(P=_c),P},kc=e=>{if(Ne(e))return te;let r=e.state;return r.window&&(r.window=null),e.state=null,ke},Lc=(e,r)=>{if(Ne(e))return te;let t=e.state;return t.wrap&2?(t.head=r,r.done=!1,ke):te},Nc=(e,r)=>{let t=r.length,n,a,i;return Ne(e)||(n=e.state,n.wrap!==0&&n.mode!==St)?te:n.mode===St&&(a=1,a=Qe(a,r,t,0),a!==n.check)?Ro:(i=qo(e,r,t,t),i?(n.mode=Do,Co):(n.havedict=1,ke))},Sc=Io,Ac=Oo,Tc=Po,Rc=bc,Cc=Mo,Dc=Ec,zc=kc,Pc=Lc,Ic=Nc,Oc="pako inflate (from Nodeca project)",se={inflateReset:Sc,inflateReset2:Ac,inflateResetKeep:Tc,inflateInit:Rc,inflateInit2:Cc,inflate:Dc,inflateEnd:zc,inflateGetHeader:Pc,inflateSetDictionary:Ic,inflateInfo:Oc};function Mc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qc=Mc,Fo=Object.prototype.toString,{Z_NO_FLUSH:Fc,Z_FINISH:Bc,Z_OK:tt,Z_STREAM_END:mr,Z_NEED_DICT:xr,Z_STREAM_ERROR:Uc,Z_DATA_ERROR:no,Z_MEM_ERROR:Zc}=Le;function at(e){this.options=Tt.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new No,this.strm.avail_out=0;let t=se.inflateInit2(this.strm,r.windowBits);if(t!==tt)throw new Error(ye[t]);if(this.header=new qc,se.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=et.string2buf(r.dictionary):Fo.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=se.inflateSetDictionary(this.strm,r.dictionary),t!==tt)))throw new Error(ye[t])}at.prototype.push=function(e,r){let t=this.strm,n=this.options.chunkSize,a=this.options.dictionary,i,f,o;if(this.ended)return!1;for(r===~~r?f=r:f=r===!0?Bc:Fc,Fo.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),i=se.inflate(t,f),i===xr&&a&&(i=se.inflateSetDictionary(t,a),i===tt?i=se.inflate(t,f):i===no&&(i=xr));t.avail_in>0&&i===mr&&t.state.wrap>0&&e[t.next_in]!==0;)se.inflateReset(t),i=se.inflate(t,f);switch(i){case Uc:case no:case xr:case Zc:return this.onEnd(i),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||i===mr))if(this.options.to==="string"){let h=et.utf8border(t.output,t.next_out),s=t.next_out-h,u=et.buf2string(t.output,h);t.next_out=s,t.avail_out=n-s,s&&t.output.set(t.output.subarray(h,h+s),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===tt&&o===0)){if(i===mr)return i=se.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};at.prototype.onData=function(e){this.chunks.push(e)};at.prototype.onEnd=function(e){e===tt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Tt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Or(e,r){let t=new at(r);if(t.push(e),t.err)throw t.msg||ye[t.err];return t.result}function Yc(e,r){return r=r||{},r.raw=!0,Or(e,r)}var $c=at,Xc=Or,Hc=Yc,Gc=Or,Vc=Le,jc={Inflate:$c,inflate:Xc,inflateRaw:Hc,ungzip:Gc,constants:Vc},{Deflate:Kc,deflate:Wc,deflateRaw:Qc,gzip:Jc}=nc,{Inflate:ed,inflate:td,inflateRaw:rd,ungzip:nd}=jc,id=Kc,ad=Wc,od=Qc,fd=Jc,ud=ed,ld=td,sd=rd,cd=nd,dd=Le,Bo={Deflate:id,deflate:ad,deflateRaw:od,gzip:fd,Inflate:ud,inflate:ld,inflateRaw:sd,ungzip:cd,constants:dd};var Uo=async()=>{let r=await(await fetch("./dist/input")).arrayBuffer();return Bo.ungzip(r,{to:"string"})};var Zo=Fr(or(),1),hd=e=>e.split(`
`).map(r=>{let[t,...n]=r.match(/([A-Z]{2})/g)??[],a=Number(r.match(/\d+/)?.[0]);return{name:t,to:n,flowRate:a}}),vd=(e,r)=>{let t=[];r.links?.forEach(n=>{n.fromId!==r.id&&t.push({id:n.fromId,len:n.data.len})});for(let n of t)for(let a of t)n.id!==a.id&&!e.hasLink(n.id,a.id)&&e.addLink(n.id,a.id,{len:n.len+a.len});e.removeNode(r.id)},_d=e=>{let r=Zo.default.Graph.graph();for(let{name:t,to:n,flowRate:a}of e){r.addNode(t,{flowRate:a});for(let i of n)r.addLink(t,i,{len:1})}return console.log("Before:",r.getNodesCount()),r.forEachNode(t=>{t.id!=="AA"&&t.data.flowRate===0&&vd(r,t)}),console.log("After:",r.getNodesCount()),r},Yo=e=>{let r=hd(e),t=_d(r),n=30;return t};var pd=async()=>{let e=await Uo(),r=Yo(e);var t=ot.default.Graph.View.svgGraphics();t.node(function(a){return ot.default.Graph.svg("rect").attr("width",a.data.flowRate*2).attr("height",a.data.flowRate*2).attr("fill","crimson")}).link(function(a){return ot.default.Graph.svg("line").attr("stroke","silver").attr("stroke-width","2px")}).placeNode(function(a,i,f){a.attr("x",i.x-f.data.flowRate).attr("y",i.y-f.data.flowRate)});var n=ot.default.Graph.View.renderer(r,{graphics:t});n.run()};pd();})();
