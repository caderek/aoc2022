"use strict";(()=>{var Hl=Object.create;var Ai=Object.defineProperty;var Bl=Object.getOwnPropertyDescriptor;var Wl=Object.getOwnPropertyNames;var Kl=Object.getPrototypeOf,Xl=Object.prototype.hasOwnProperty;var b=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var Gl=(e,i,t,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of Wl(i))!Xl.call(e,a)&&a!==t&&Ai(e,a,{get:()=>i[a],enumerable:!(n=Bl(i,a))||n.enumerable});return e};var Yl=(e,i,t)=>(t=e!=null?Hl(Kl(e)):{},Gl(i||!e||!e.__esModule?Ai(t,"default",{value:e,enumerable:!0}):t,e));var k=b(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});var Si=(e,i=[])=>e.length<2?e:(...t)=>(n=>n.length>=e.length?e(...n):Si(e,n))([...i,...t]);Wt.curry=Si;Wt.default=Si});var Qn=b(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.aperture_=void 0;var Gf=k(),Yf=(e,i)=>{if(e<=0)throw new Error("Chunk size has to be greater than 0.");let t=i.length-e,n=new Array(t<0?0:t);for(let a=0;a<=i.length-e;a++)n[a]=i.slice(a,a+e);return n},Jn=Gf.curry(Yf);Ne.aperture_=Jn;Ne.default=Jn});var ta=b(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.append_=void 0;var Vf=k(),Jf=(e,i)=>i.concat([e]),ea=Vf.default(Jf);qe.append_=ea;qe.default=ea});var na=b(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.butLast_=void 0;var ia=e=>e.slice(0,-1);Pe.butLast_=ia;Pe.default=ia});var ra=b(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.chunk_=void 0;var Qf=k(),e_=(e,i)=>{if(e<=0)throw new Error("Chunk size has to be greater than 0.");let t=new Array(Math.ceil(i.length/e));for(let n=0,a=0;n<i.length;n=n+e,a++)t[a]=i.slice(n,n+e);return t},aa=Qf.curry(e_);je.chunk_=aa;je.default=aa});var oa=b(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.clear_=void 0;var la=e=>[];Ue.clear_=la;Ue.default=la});var fa=b($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.concat=void 0;var t_=k(),i_=(e,i)=>i.concat(e),sa=t_.default(i_);$e.concat=sa;$e.default=sa});var ca=b(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.entries=void 0;var _a=e=>e.entries();Fe.entries=_a;Fe.default=_a});var ua=b(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.every=void 0;var n_=k(),a_=(e,i)=>i.every(e),da=n_.default(a_);He.every=da;He.default=da});var ba=b(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.fill=void 0;var ha=k(),pa=(e,i,t,n)=>[...n].fill(t,e,i),r_=(e,i,t)=>pa(e,void 0,i,t),l_=ha.default(r_),Ei=ha.default(pa),ga=Object.assign(Ei,{all:Ei(0,void 0),end:Ei(0),start:l_});Be.fill=ga;Be.default=ga});var va=b(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.filter=void 0;var o_=k(),s_=(e,i)=>i.filter(e),wa=o_.default(s_);We.filter=wa;We.default=wa});var ya=b(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.filterNot_=void 0;var f_=k(),__=(e,i)=>i.filter((t,n,a)=>!e(t,n,a)),xa=f_.default(__);Ke.filterNot_=xa;Ke.default=xa});var ka=b(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.find=void 0;var c_=k(),d_=(e,i)=>i.find(e),ma=c_.default(d_);Xe.find=ma;Xe.default=ma});var Ea=b(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.findIndex=void 0;var u_=k(),h_=(e,i)=>i.findIndex(e),Sa=u_.default(h_);Ge.findIndex=Sa;Ge.default=Sa});var Oa=b(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.first_=void 0;var za=e=>e[0];Ye.first_=za;Ye.default=za});var Ra=b(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.flat=void 0;var p_=k(),g_=(e,i)=>i.flat(e),b_=p_.default(g_),w_=e=>e.flat(),Aa=Object.assign(b_,{one:w_});Ve.flat=Aa;Ve.default=Aa});var Ca=b(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.flatMap=void 0;var v_=k(),x_=(e,i)=>i.flatMap(e),Ta=v_.default(x_);Je.flatMap=Ta;Je.default=Ta});var Ia=b(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.forEach=void 0;var y_=k(),m_=(e,i)=>i.forEach(e),Ma=y_.default(m_);Qe.forEach=Ma;Qe.default=Ma});var Za=b(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.get_=void 0;var k_=k(),S_=(e,i)=>i[e],Da=k_.default(S_);et.get_=Da;et.default=Da});var Na=b(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.groupBy_=void 0;var E_=k(),z_=(e,i)=>{let t={};return i.forEach(n=>{let a=e(n);t[a]!==void 0?t[a].push(n):t[a]=[n]}),t},La=E_.default(z_);tt.groupBy_=La;tt.default=La});var Pa=b(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.has_=void 0;var O_=k(),A_=(e,i)=>e<i.length,qa=O_.default(A_);it.has_=qa;it.default=qa});var Ua=b(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.includes=void 0;var R_=k(),T_=(e,i)=>i.includes(e),ja=R_.default(T_);nt.includes=ja;nt.default=ja});var Ha=b(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.indexOf=void 0;var $a=k(),C_=(e,i)=>i.indexOf(e),M_=(e,i,t)=>t.indexOf(e,i),I_=$a.default(M_),Fa=Object.assign(I_,{all:$a.default(C_)});at.indexOf=Fa;at.default=Fa});var Wa=b(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.insert_=void 0;var D_=k(),Z_=(e,i,t)=>i>=t.length?t.concat([e]):t.slice(0,i).concat([e]).concat(t.slice(i)),Ba=D_.default(Z_);rt.insert_=Ba;rt.default=Ba});var Xa=b(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.join=void 0;var L_=k(),N_=(e,i)=>i.join(e),Ka=L_.default(N_);lt.join=Ka;lt.default=Ka});var Ya=b(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.keys=void 0;var Ga=e=>e.keys();ot.keys=Ga;ot.default=Ga});var Ja=b(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.last_=void 0;var Va=e=>e[e.length-1];st.last_=Va;st.default=Va});var tr=b(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.lastIndexOf=void 0;var Qa=k(),q_=(e,i)=>i.lastIndexOf(e),P_=(e,i,t)=>t.lastIndexOf(e,i),j_=Qa.default(P_),er=Object.assign(j_,{all:Qa.default(q_)});ft.lastIndexOf=er;ft.default=er});var nr=b(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.map=void 0;var U_=k(),$_=(e,i)=>i.map(e),ir=U_.default($_);_t.map=ir;_t.default=ir});var rr=b(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.prepend_=void 0;var F_=k(),H_=(e,i)=>[e].concat(i),ar=F_.default(H_);ct.prepend_=ar;ct.default=ar});var or=b(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.range_=void 0;var lr=(e,i,t=1)=>{if(e===i)return[];if(t<=0)throw new Error("Step must be greater than zero.");let n=new Array(Math.floor(Math.abs(i-e)/t)),a=e,r=0;if(e>i)for(;a>i;)n[r]=a,a-=t,r++;else for(;a<i;)n[r]=a,a+=t,r++;return n};dt.range_=lr;dt.default=lr});var _r=b(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.reduce=void 0;var sr=k(),B_=(e,i)=>i.reduce(e),W_=sr.default(B_),K_=(e,i,t)=>t.reduce(e,i),X_=sr.default(K_),fr=Object.assign(X_,{first:W_});ut.reduce=fr;ut.default=fr});var ur=b(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.reduceRight=void 0;var cr=k(),G_=(e,i)=>i.reduce(e),Y_=cr.default(G_),V_=(e,i,t)=>t.reduceRight(e,i),J_=cr.default(V_),dr=Object.assign(J_,{first:Y_});ht.reduceRight=dr;ht.default=dr});var pr=b(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.remove_=void 0;var Q_=k(),ec=(e,i)=>i.slice(0,e).concat(i.slice(e+1)),hr=Q_.default(ec);pt.remove_=hr;pt.default=hr});var br=b(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.rest_=void 0;var gr=e=>e.slice(1);gt.rest_=gr;gt.default=gr});var vr=b(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.reverse=void 0;var wr=e=>[...e].reverse();bt.reverse=wr;bt.default=wr});var yr=b(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.set_=void 0;var tc=k(),ic=(e,i,t)=>{if(i>t.length-1)throw new Error("The provided index is out of bound of the array.");let n=[...t];return n[i]=e,n},xr=tc.default(ic);wt.set_=xr;wt.default=xr});var kr=b(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.setSize_=void 0;var nc=k(),ac=(e,i)=>e<=i.length?i.slice(0,e):i.slice(0).concat(new Array(e-i.length).fill(void 0)),mr=nc.default(ac);vt.setSize_=mr;vt.default=mr});var Er=b(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.size_=void 0;var Sr=e=>e.length;xt.size_=Sr;xt.default=Sr});var Or=b(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.slice=void 0;var zi=k(),rc=(e,i)=>i.slice(e),lc=(e,i)=>i.slice(0,e),oc=(e,i,t)=>t.slice(e,i),sc=zi.default(oc),zr=Object.assign(sc,{from:zi.default(rc),to:zi.default(lc)});yt.slice=zr;yt.default=zr});var Rr=b(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.some=void 0;var fc=k(),_c=(e,i)=>i.some(e),Ar=fc.default(_c);mt.some=Ar;mt.default=Ar});var Cr=b(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.sort=void 0;var cc=k(),dc=(e,i)=>[...i].sort(e),fe=cc.default(dc),Tr=Object.assign(fe,{num:fe((e,i)=>e-i),numDesc:fe((e,i)=>i-e),str:fe((e,i)=>e===i?0:e>i?1:-1),strDesc:fe((e,i)=>e===i?0:e>i?-1:1),locale:fe((e,i)=>e.localeCompare(i)),localeDesc:fe((e,i)=>i.localeCompare(e))});kt.sort=Tr;kt.default=Tr});var Ir=b(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.sortBy_=void 0;var uc=k(),hc=(e,i,t)=>[...t].sort((n,a)=>e(i(n),i(a))),_e=uc.default(hc),Mr=Object.assign(_e,{num:_e((e,i)=>e-i),numDesc:_e((e,i)=>i-e),str:_e((e,i)=>e.localeCompare(i)),strDesc:_e((e,i)=>i.localeCompare(e)),locale:_e((e,i)=>e.localeCompare(i)),localeDesc:_e((e,i)=>i.localeCompare(e))});St.sortBy_=Mr;St.default=Mr});var Zr=b(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.toLocaleString=void 0;var Dr=e=>e.toLocaleString();Et.toLocaleString=Dr;Et.default=Dr});var Nr=b(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.toString=void 0;var Lr=e=>e.toString();zt.toString=Lr;zt.default=Lr});var Pr=b(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.update_=void 0;var pc=k(),gc=(e,i,t)=>{if(i>t.length-1)throw new Error("The provided index is out of bound of the array.");let n=[...t];return n[i]=e(n[i]),n},qr=pc.default(gc);Ot.update_=qr;Ot.default=qr});var Ur=b(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.values=void 0;var jr=e=>e.values();At.values=jr;At.default=jr});var Hr=b(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.zip_=void 0;var $r=k(),bc=(e,i)=>{let t=Math.max(i.length,e.length),n=new Array(t);for(let a=0;a<t;a++)n[a]=[i[a],e[a]];return n},wc=$r.default(bc),vc=(e,i)=>{let t=Math.min(i.length,e.length),n=new Array(t);for(let a=0;a<t;a++)n[a]=[i[a],e[a]];return n},xc=$r.default(vc),Fr=Object.assign(xc,{all:wc});Rt.zip_=Fr;Rt.default=Fr});var Kr=b(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.zipWith_=void 0;var Br=k(),yc=(e,i,t)=>{let n=Math.max(t.length,i.length),a=new Array(n);for(let r=0;r<n;r++)a[r]=e(i[r],t[r]);return a},mc=Br.default(yc),kc=(e,i,t)=>{let n=Math.min(t.length,i.length),a=new Array(n);for(let r=0;r<n;r++)a[r]=e(i[r],t[r]);return a},Sc=Br.default(kc),Wr=Object.assign(Sc,{all:mc});Tt.zipWith_=Wr;Tt.default=Wr});var $l=b(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.zipWith_=c.zip_=c.values=c.update_=c.toString=c.toLocaleString=c.sortBy_=c.sort=c.some=c.slice=c.size_=c.setSize_=c.set_=c.reverse=c.rest_=c.remove_=c.reduceRight=c.reduce=c.range_=c.prepend_=c.map=c.lastIndexOf=c.last_=c.keys=c.join=c.insert_=c.indexOf=c.includes=c.has_=c.groupBy_=c.get_=c.forEach=c.flatMap=c.flat=c.first_=c.findIndex=c.find=c.filterNot_=c.filter=c.fill=c.every=c.entries=c.concat=c.clear_=c.chunk_=c.butLast_=c.append_=c.aperture_=void 0;var Xr=Qn();c.aperture_=Xr.default;var Gr=ta();c.append_=Gr.default;var Yr=na();c.butLast_=Yr.default;var Vr=ra();c.chunk_=Vr.default;var Jr=oa();c.clear_=Jr.default;var Qr=fa();c.concat=Qr.default;var el=ca();c.entries=el.default;var tl=ua();c.every=tl.default;var il=ba();c.fill=il.default;var nl=va();c.filter=nl.default;var al=ya();c.filterNot_=al.default;var rl=ka();c.find=rl.default;var ll=Ea();c.findIndex=ll.default;var ol=Oa();c.first_=ol.default;var sl=Ra();c.flat=sl.default;var fl=Ca();c.flatMap=fl.default;var _l=Ia();c.forEach=_l.default;var cl=Za();c.get_=cl.default;var dl=Na();c.groupBy_=dl.default;var ul=Pa();c.has_=ul.default;var hl=Ua();c.includes=hl.default;var pl=Ha();c.indexOf=pl.default;var gl=Wa();c.insert_=gl.default;var bl=Xa();c.join=bl.default;var wl=Ya();c.keys=wl.default;var vl=Ja();c.last_=vl.default;var xl=tr();c.lastIndexOf=xl.default;var yl=nr();c.map=yl.default;var ml=rr();c.prepend_=ml.default;var kl=or();c.range_=kl.default;var Sl=_r();c.reduce=Sl.default;var El=ur();c.reduceRight=El.default;var zl=pr();c.remove_=zl.default;var Ol=br();c.rest_=Ol.default;var Al=vr();c.reverse=Al.default;var Rl=yr();c.set_=Rl.default;var Tl=kr();c.setSize_=Tl.default;var Cl=Er();c.size_=Cl.default;var Ml=Or();c.slice=Ml.default;var Il=Rr();c.some=Il.default;var Dl=Cr();c.sort=Dl.default;var Zl=Ir();c.sortBy_=Zl.default;var Ll=Zr();c.toLocaleString=Ll.default;var Nl=Nr();c.toString=Nl.default;var ql=Pr();c.update_=ql.default;var Pl=Ur();c.values=Pl.default;var jl=Hr();c.zip_=jl.default;var Ul=Kr();c.zipWith_=Ul.default;c.default={aperture_:Xr.default,append_:Gr.default,butLast_:Yr.default,chunk_:Vr.default,clear_:Jr.default,concat:Qr.default,entries:el.default,every:tl.default,fill:il.default,filter:nl.default,filterNot_:al.default,find:rl.default,findIndex:ll.default,first_:ol.default,flat:sl.default,flatMap:fl.default,forEach:_l.default,get_:cl.default,groupBy_:dl.default,has_:ul.default,includes:hl.default,indexOf:pl.default,insert_:gl.default,join:bl.default,keys:wl.default,last_:vl.default,lastIndexOf:xl.default,map:yl.default,prepend_:ml.default,range_:kl.default,reduce:Sl.default,reduceRight:El.default,remove_:zl.default,rest_:Ol.default,reverse:Al.default,set_:Rl.default,setSize_:Tl.default,size_:Cl.default,slice:Ml.default,some:Il.default,sort:Dl.default,sortBy_:Zl.default,toLocaleString:Ll.default,toString:Nl.default,update_:ql.default,values:Pl.default,zip_:jl.default,zipWith_:Ul.default}});var Vl={tileColor:"#eee",tileShape:"square",tileSize:8,lineColor:null,lineSize:0,gapSize:2,background:"#0e0614",fitViewport:!0,center:!0,fit:!0,cameraWidth:null,cameraHeight:null},Kt=class{#i;#t;#e=Vl;#a=()=>{let i=window.devicePixelRatio;this.#i.width=Math.floor(this.#i.clientWidth*i),this.#i.height=Math.floor(this.#i.clientHeight*i)};constructor(i,t={}){let n=document.querySelector(i);if(n===null)throw new Error("Provided selector does not exist.");this.#i=n,this.#t=this.#i.getContext("2d"),this.#o(t),this.#a(),this.#s(),this.#l(),this.#i.style.background=this.#e.background??"transparent"}#l(){if(this.#e.fit&&this.#e.cameraWidth&&this.#e.cameraHeight){let i=Math.min(Math.floor(this.#i.width/this.#e.cameraWidth),Math.floor(this.#i.height/this.#e.cameraHeight));console.log({maxTile:i}),i<this.#e.tileSize&&(this.#e.tileSize=i)}}#r(){if(this.#e.center&&this.#e.cameraWidth&&this.#e.cameraHeight){let i=Math.round((this.#i.width-(this.#e.cameraWidth*this.#e.tileSize+(this.#e.cameraWidth-1)*this.#e.gapSize))/2),t=Math.round((this.#i.height-(this.#e.cameraHeight*this.#e.tileSize+(this.#e.cameraHeight-1)*this.#e.gapSize))/2);return[i,t]}return[0,0]}#o(i={}){this.#e={...this.#e,...i}}#s(){window.addEventListener("resize",this.#a)}#f(i,t,n,a,r,s=1){let o=this.#e.tileSize,d=this.#e.gapSize,[l,f]=this.#r(),v=o*(1-s)/2;n&&(this.#t.fillStyle=n,this.#t.fillRect(i*(o+d)+v+l,t*(o+d)+v+f,o*s,o*s)),r>0&&a&&(this.#t.strokeStyle=a,this.#t.lineWidth=r,this.#t.strokeRect(i*(o+d)+v+l,t*(o+d)+v+f,o*s,o*s))}#_(i,t,n,a,r,s=1){let o=this.#e.tileSize,d=this.#e.gapSize,l=this.#e.tileSize*s,[f,v]=this.#r(),u=this.#e.tileSize*(1-s)/2+l/2;this.#t.beginPath(),this.#t.arc(i*(o+d)+u+f,t*(o+d)+u+v,l/2,0,Math.PI*2),n&&(this.#t.fillStyle=n,this.#t.fill()),r>0&&a&&(this.#t.strokeStyle=a,this.#t.lineWidth=r,this.#t.stroke())}#n(i){return i==="circle"?this.#_.bind(this):this.#f.bind(this)}fillArea(i,t,n){for(let a=0;a<i;a++)for(let r=0;r<t;r++){let s={tileColor:this.#e.tileColor,tileShape:this.#e.tileShape,lineColor:this.#e.lineColor,lineSize:this.#e.lineSize,scale:1,...n?n(!0,r,a):{}};this.#n(s.tileShape)(r,a,s.tileColor,s.lineColor,s.lineSize,s.scale)}}drawGrid(i,t){let n=i.length,a=i[0].length;for(let r=0;r<n;r++)for(let s=0;s<a;s++){let o=i[r][s];typeof o=="string"&&(o=o.trim());let d={tileColor:this.#e.tileColor,tileShape:this.#e.tileShape,lineColor:this.#e.lineColor,lineSize:this.#e.lineSize,scale:1,...t?t(o,s,r):{}};o&&this.#n(d.tileShape)(s,r,d.tileColor,d.lineColor,d.lineSize,d.scale)}}drawPoints(i,t){for(let n=0;n<i.length;n++){let a=i[n],r={tileColor:this.#e.tileColor,tileShape:this.#e.tileShape,lineColor:this.#e.lineColor,lineSize:this.#e.lineSize,scale:1,...t?t(a,n):{}};this.#n(r.tileShape)(a.x,a.y,r.tileColor,r.lineColor,r.lineSize,r.scale)}}clear(){this.#t.clearRect(0,0,this.#i.width,this.#i.height)}},Ri=Kt;function ge(e){let i=e.length;for(;--i>=0;)e[i]=0}var Jl=0,pn=1,Ql=2,eo=3,to=258,bi=29,Ie=256,Ee=Ie+1+bi,ue=30,wi=19,gn=2*Ee+1,te=15,Xt=16,io=7,vi=256,bn=16,wn=17,vn=18,si=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Pt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),no=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),xn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ao=512,K=new Array((Ee+2)*2);ge(K);var me=new Array(ue*2);ge(me);var ze=new Array(ao);ge(ze);var Oe=new Array(to-eo+1);ge(Oe);var xi=new Array(bi);ge(xi);var jt=new Array(ue);ge(jt);function Gt(e,i,t,n,a){this.static_tree=e,this.extra_bits=i,this.extra_base=t,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}var yn,mn,kn;function Yt(e,i){this.dyn_tree=e,this.max_code=0,this.stat_desc=i}var Sn=e=>e<256?ze[e]:ze[256+(e>>>7)],Ae=(e,i)=>{e.pending_buf[e.pending++]=i&255,e.pending_buf[e.pending++]=i>>>8&255},N=(e,i,t)=>{e.bi_valid>Xt-t?(e.bi_buf|=i<<e.bi_valid&65535,Ae(e,e.bi_buf),e.bi_buf=i>>Xt-e.bi_valid,e.bi_valid+=t-Xt):(e.bi_buf|=i<<e.bi_valid&65535,e.bi_valid+=t)},F=(e,i,t)=>{N(e,t[i*2],t[i*2+1])},En=(e,i)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--i>0);return t>>>1},ro=e=>{e.bi_valid===16?(Ae(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},lo=(e,i)=>{let t=i.dyn_tree,n=i.max_code,a=i.stat_desc.static_tree,r=i.stat_desc.has_stree,s=i.stat_desc.extra_bits,o=i.stat_desc.extra_base,d=i.stat_desc.max_length,l,f,v,u,_,p,C=0;for(u=0;u<=te;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<gn;l++)f=e.heap[l],u=t[t[f*2+1]*2+1]+1,u>d&&(u=d,C++),t[f*2+1]=u,!(f>n)&&(e.bl_count[u]++,_=0,f>=o&&(_=s[f-o]),p=t[f*2],e.opt_len+=p*(u+_),r&&(e.static_len+=p*(a[f*2+1]+_)));if(C!==0){do{for(u=d-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[d]--,C-=2}while(C>0);for(u=d;u!==0;u--)for(f=e.bl_count[u];f!==0;)v=e.heap[--l],!(v>n)&&(t[v*2+1]!==u&&(e.opt_len+=(u-t[v*2+1])*t[v*2],t[v*2+1]=u),f--)}},zn=(e,i,t)=>{let n=new Array(te+1),a=0,r,s;for(r=1;r<=te;r++)a=a+t[r-1]<<1,n[r]=a;for(s=0;s<=i;s++){let o=e[s*2+1];o!==0&&(e[s*2]=En(n[o]++,o))}},oo=()=>{let e,i,t,n,a,r=new Array(te+1);for(t=0,n=0;n<bi-1;n++)for(xi[n]=t,e=0;e<1<<si[n];e++)Oe[t++]=n;for(Oe[t-1]=n,a=0,n=0;n<16;n++)for(jt[n]=a,e=0;e<1<<Pt[n];e++)ze[a++]=n;for(a>>=7;n<ue;n++)for(jt[n]=a<<7,e=0;e<1<<Pt[n]-7;e++)ze[256+a++]=n;for(i=0;i<=te;i++)r[i]=0;for(e=0;e<=143;)K[e*2+1]=8,e++,r[8]++;for(;e<=255;)K[e*2+1]=9,e++,r[9]++;for(;e<=279;)K[e*2+1]=7,e++,r[7]++;for(;e<=287;)K[e*2+1]=8,e++,r[8]++;for(zn(K,Ee+1,r),e=0;e<ue;e++)me[e*2+1]=5,me[e*2]=En(e,5);yn=new Gt(K,si,Ie+1,Ee,te),mn=new Gt(me,Pt,0,ue,te),kn=new Gt(new Array(0),no,0,wi,io)},On=e=>{let i;for(i=0;i<Ee;i++)e.dyn_ltree[i*2]=0;for(i=0;i<ue;i++)e.dyn_dtree[i*2]=0;for(i=0;i<wi;i++)e.bl_tree[i*2]=0;e.dyn_ltree[vi*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},An=e=>{e.bi_valid>8?Ae(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ti=(e,i,t,n)=>{let a=i*2,r=t*2;return e[a]<e[r]||e[a]===e[r]&&n[i]<=n[t]},Vt=(e,i,t)=>{let n=e.heap[t],a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Ti(i,e.heap[a+1],e.heap[a],e.depth)&&a++,!Ti(i,n,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=n},Ci=(e,i,t)=>{let n,a,r=0,s,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+r++]&255,n+=(e.pending_buf[e.sym_buf+r++]&255)<<8,a=e.pending_buf[e.sym_buf+r++],n===0?F(e,a,i):(s=Oe[a],F(e,s+Ie+1,i),o=si[s],o!==0&&(a-=xi[s],N(e,a,o)),n--,s=Sn(n),F(e,s,t),o=Pt[s],o!==0&&(n-=jt[s],N(e,n,o)));while(r<e.sym_next);F(e,vi,i)},fi=(e,i)=>{let t=i.dyn_tree,n=i.stat_desc.static_tree,a=i.stat_desc.has_stree,r=i.stat_desc.elems,s,o,d=-1,l;for(e.heap_len=0,e.heap_max=gn,s=0;s<r;s++)t[s*2]!==0?(e.heap[++e.heap_len]=d=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=d<2?++d:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=n[l*2+1]);for(i.max_code=d,s=e.heap_len>>1;s>=1;s--)Vt(e,t,s);l=r;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Vt(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,Vt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],lo(e,i),zn(t,d,e.bl_count)},Mi=(e,i,t)=>{let n,a=-1,r,s=i[0*2+1],o=0,d=7,l=4;for(s===0&&(d=138,l=3),i[(t+1)*2+1]=65535,n=0;n<=t;n++)r=s,s=i[(n+1)*2+1],!(++o<d&&r===s)&&(o<l?e.bl_tree[r*2]+=o:r!==0?(r!==a&&e.bl_tree[r*2]++,e.bl_tree[bn*2]++):o<=10?e.bl_tree[wn*2]++:e.bl_tree[vn*2]++,o=0,a=r,s===0?(d=138,l=3):r===s?(d=6,l=3):(d=7,l=4))},Ii=(e,i,t)=>{let n,a=-1,r,s=i[0*2+1],o=0,d=7,l=4;for(s===0&&(d=138,l=3),n=0;n<=t;n++)if(r=s,s=i[(n+1)*2+1],!(++o<d&&r===s)){if(o<l)do F(e,r,e.bl_tree);while(--o!==0);else r!==0?(r!==a&&(F(e,r,e.bl_tree),o--),F(e,bn,e.bl_tree),N(e,o-3,2)):o<=10?(F(e,wn,e.bl_tree),N(e,o-3,3)):(F(e,vn,e.bl_tree),N(e,o-11,7));o=0,a=r,s===0?(d=138,l=3):r===s?(d=6,l=3):(d=7,l=4)}},so=e=>{let i;for(Mi(e,e.dyn_ltree,e.l_desc.max_code),Mi(e,e.dyn_dtree,e.d_desc.max_code),fi(e,e.bl_desc),i=wi-1;i>=3&&e.bl_tree[xn[i]*2+1]===0;i--);return e.opt_len+=3*(i+1)+5+5+4,i},fo=(e,i,t,n)=>{let a;for(N(e,i-257,5),N(e,t-1,5),N(e,n-4,4),a=0;a<n;a++)N(e,e.bl_tree[xn[a]*2+1],3);Ii(e,e.dyn_ltree,i-1),Ii(e,e.dyn_dtree,t-1)},_o=e=>{let i=4093624447,t;for(t=0;t<=31;t++,i>>>=1)if(i&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<Ie;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},Di=!1,co=e=>{Di||(oo(),Di=!0),e.l_desc=new Yt(e.dyn_ltree,yn),e.d_desc=new Yt(e.dyn_dtree,mn),e.bl_desc=new Yt(e.bl_tree,kn),e.bi_buf=0,e.bi_valid=0,On(e)},Rn=(e,i,t,n)=>{N(e,(Jl<<1)+(n?1:0),3),An(e),Ae(e,t),Ae(e,~t),t&&e.pending_buf.set(e.window.subarray(i,i+t),e.pending),e.pending+=t},uo=e=>{N(e,pn<<1,3),F(e,vi,K),ro(e)},ho=(e,i,t,n)=>{let a,r,s=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=_o(e)),fi(e,e.l_desc),fi(e,e.d_desc),s=so(e),a=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=a&&(a=r)):a=r=t+5,t+4<=a&&i!==-1?Rn(e,i,t,n):e.strategy===4||r===a?(N(e,(pn<<1)+(n?1:0),3),Ci(e,K,me)):(N(e,(Ql<<1)+(n?1:0),3),fo(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Ci(e,e.dyn_ltree,e.dyn_dtree)),On(e),n&&An(e)},po=(e,i,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=i,e.pending_buf[e.sym_buf+e.sym_next++]=i>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,i===0?e.dyn_ltree[t*2]++:(e.matches++,i--,e.dyn_ltree[(Oe[t]+Ie+1)*2]++,e.dyn_dtree[Sn(i)*2]++),e.sym_next===e.sym_end),go=co,bo=Rn,wo=ho,vo=po,xo=uo,yo={_tr_init:go,_tr_stored_block:bo,_tr_flush_block:wo,_tr_tally:vo,_tr_align:xo},mo=(e,i,t,n)=>{let a=e&65535|0,r=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do a=a+i[n++]|0,r=r+a|0;while(--s);a%=65521,r%=65521}return a|r<<16|0},Re=mo,ko=()=>{let e,i=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;i[t]=e}return i},So=new Uint32Array(ko()),Eo=(e,i,t,n)=>{let a=So,r=n+t;e^=-1;for(let s=n;s<r;s++)e=e>>>8^a[(e^i[s])&255];return e^-1},D=Eo,ae={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:zo,_tr_stored_block:_i,_tr_flush_block:Oo,_tr_tally:V,_tr_align:Ao}=yo,{Z_NO_FLUSH:J,Z_PARTIAL_FLUSH:Ro,Z_FULL_FLUSH:To,Z_FINISH:j,Z_BLOCK:Zi,Z_OK:Z,Z_STREAM_END:Li,Z_STREAM_ERROR:H,Z_DATA_ERROR:Co,Z_BUF_ERROR:Jt,Z_DEFAULT_COMPRESSION:Mo,Z_FILTERED:Io,Z_HUFFMAN_ONLY:Dt,Z_RLE:Do,Z_FIXED:Zo,Z_DEFAULT_STRATEGY:Lo,Z_UNKNOWN:No,Z_DEFLATED:Ft}=oe,qo=9,Po=15,jo=8,Uo=29,$o=256,ci=$o+1+Uo,Fo=30,Ho=19,Bo=2*ci+1,Wo=15,E=3,Y=258,B=Y+E+1,Ko=32,he=42,yi=57,di=69,ui=73,hi=91,pi=103,ie=113,xe=666,L=1,be=2,re=3,we=4,Xo=3,ne=(e,i)=>(e.msg=ae[i],i),Ni=e=>e*2-(e>4?9:0),G=e=>{let i=e.length;for(;--i>=0;)e[i]=0},Go=e=>{let i,t,n,a=e.w_size;i=e.hash_size,n=i;do t=e.head[--n],e.head[n]=t>=a?t-a:0;while(--i);i=a,n=i;do t=e.prev[--n],e.prev[n]=t>=a?t-a:0;while(--i)},Yo=(e,i,t)=>(i<<e.hash_shift^t)&e.hash_mask,Q=Yo,q=e=>{let i=e.state,t=i.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+t),e.next_out),e.next_out+=t,i.pending_out+=t,e.total_out+=t,e.avail_out-=t,i.pending-=t,i.pending===0&&(i.pending_out=0))},P=(e,i)=>{Oo(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,i),e.block_start=e.strstart,q(e.strm)},A=(e,i)=>{e.pending_buf[e.pending++]=i},ve=(e,i)=>{e.pending_buf[e.pending++]=i>>>8&255,e.pending_buf[e.pending++]=i&255},gi=(e,i,t,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,i.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=Re(e.adler,i,a,t):e.state.wrap===2&&(e.adler=D(e.adler,i,a,t)),e.next_in+=a,e.total_in+=a,a)},Tn=(e,i)=>{let t=e.max_chain_length,n=e.strstart,a,r,s=e.prev_length,o=e.nice_match,d=e.strstart>e.w_size-B?e.strstart-(e.w_size-B):0,l=e.window,f=e.w_mask,v=e.prev,u=e.strstart+Y,_=l[n+s-1],p=l[n+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(a=i,!(l[a+s]!==p||l[a+s-1]!==_||l[a]!==l[n]||l[++a]!==l[n+1])){n+=2,a++;do;while(l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&n<u);if(r=Y-(u-n),n=u-Y,r>s){if(e.match_start=i,s=r,r>=o)break;_=l[n+s-1],p=l[n+s]}}while((i=v[i&f])>d&&--t!==0);return s<=e.lookahead?s:e.lookahead},pe=e=>{let i=e.w_size,t,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-B)&&(e.window.set(e.window.subarray(i,i+i-n),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),Go(e),n+=i),e.strm.avail_in===0)break;if(t=gi(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=E)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Q(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Q(e,e.ins_h,e.window[a+E-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<E)););}while(e.lookahead<B&&e.strm.avail_in!==0)},Cn=(e,i)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,r,s=0,o=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>r&&(n=r),n<t&&(n===0&&i!==j||i===J||n!==a+e.strm.avail_in)))break;s=i===j&&n===a+e.strm.avail_in?1:0,_i(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,q(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(gi(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?we:i!==J&&i!==j&&e.strm.avail_in===0&&e.strstart===e.block_start?be:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(gi(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,t=r>e.w_size?e.w_size:r,a=e.strstart-e.block_start,(a>=t||(a||i===j)&&i!==J&&e.strm.avail_in===0&&a<=r)&&(n=a>r?r:a,s=i===j&&e.strm.avail_in===0&&n===a?1:0,_i(e,e.block_start,n,s),e.block_start+=n,q(e.strm)),s?re:L)},Qt=(e,i)=>{let t,n;for(;;){if(e.lookahead<B){if(pe(e),e.lookahead<B&&i===J)return L;if(e.lookahead===0)break}if(t=0,e.lookahead>=E&&(e.ins_h=Q(e,e.ins_h,e.window[e.strstart+E-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-B&&(e.match_length=Tn(e,t)),e.match_length>=E)if(n=V(e,e.strstart-e.match_start,e.match_length-E),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=E){e.match_length--;do e.strstart++,e.ins_h=Q(e,e.ins_h,e.window[e.strstart+E-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Q(e,e.ins_h,e.window[e.strstart+1]);else n=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(P(e,!1),e.strm.avail_out===0))return L}return e.insert=e.strstart<E-1?e.strstart:E-1,i===j?(P(e,!0),e.strm.avail_out===0?re:we):e.sym_next&&(P(e,!1),e.strm.avail_out===0)?L:be},ce=(e,i)=>{let t,n,a;for(;;){if(e.lookahead<B){if(pe(e),e.lookahead<B&&i===J)return L;if(e.lookahead===0)break}if(t=0,e.lookahead>=E&&(e.ins_h=Q(e,e.ins_h,e.window[e.strstart+E-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=E-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-B&&(e.match_length=Tn(e,t),e.match_length<=5&&(e.strategy===Io||e.match_length===E&&e.strstart-e.match_start>4096)&&(e.match_length=E-1)),e.prev_length>=E&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-E,n=V(e,e.strstart-1-e.prev_match,e.prev_length-E),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=Q(e,e.ins_h,e.window[e.strstart+E-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=E-1,e.strstart++,n&&(P(e,!1),e.strm.avail_out===0))return L}else if(e.match_available){if(n=V(e,0,e.window[e.strstart-1]),n&&P(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return L}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=V(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<E-1?e.strstart:E-1,i===j?(P(e,!0),e.strm.avail_out===0?re:we):e.sym_next&&(P(e,!1),e.strm.avail_out===0)?L:be},Vo=(e,i)=>{let t,n,a,r,s=e.window;for(;;){if(e.lookahead<=Y){if(pe(e),e.lookahead<=Y&&i===J)return L;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=E&&e.strstart>0&&(a=e.strstart-1,n=s[a],n===s[++a]&&n===s[++a]&&n===s[++a])){r=e.strstart+Y;do;while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<r);e.match_length=Y-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=E?(t=V(e,1,e.match_length-E),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(P(e,!1),e.strm.avail_out===0))return L}return e.insert=0,i===j?(P(e,!0),e.strm.avail_out===0?re:we):e.sym_next&&(P(e,!1),e.strm.avail_out===0)?L:be},Jo=(e,i)=>{let t;for(;;){if(e.lookahead===0&&(pe(e),e.lookahead===0)){if(i===J)return L;break}if(e.match_length=0,t=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(P(e,!1),e.strm.avail_out===0))return L}return e.insert=0,i===j?(P(e,!0),e.strm.avail_out===0?re:we):e.sym_next&&(P(e,!1),e.strm.avail_out===0)?L:be};function $(e,i,t,n,a){this.good_length=e,this.max_lazy=i,this.nice_length=t,this.max_chain=n,this.func=a}var ye=[new $(0,0,0,0,Cn),new $(4,4,8,4,Qt),new $(4,5,16,8,Qt),new $(4,6,32,32,Qt),new $(4,4,16,16,ce),new $(8,16,32,32,ce),new $(8,16,128,128,ce),new $(8,32,128,256,ce),new $(32,128,258,1024,ce),new $(32,258,258,4096,ce)],Qo=e=>{e.window_size=2*e.w_size,G(e.head),e.max_lazy_match=ye[e.level].max_lazy,e.good_match=ye[e.level].good_length,e.nice_match=ye[e.level].nice_length,e.max_chain_length=ye[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=E-1,e.match_available=0,e.ins_h=0};function es(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ft,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Bo*2),this.dyn_dtree=new Uint16Array((2*Fo+1)*2),this.bl_tree=new Uint16Array((2*Ho+1)*2),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Wo+1),this.heap=new Uint16Array(2*ci+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ci+1),G(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var De=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.status!==he&&i.status!==yi&&i.status!==di&&i.status!==ui&&i.status!==hi&&i.status!==pi&&i.status!==ie&&i.status!==xe?1:0},Mn=e=>{if(De(e))return ne(e,H);e.total_in=e.total_out=0,e.data_type=No;let i=e.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?yi:i.wrap?he:ie,e.adler=i.wrap===2?0:1,i.last_flush=-2,zo(i),Z},In=e=>{let i=Mn(e);return i===Z&&Qo(e.state),i},ts=(e,i)=>De(e)||e.state.wrap!==2?H:(e.state.gzhead=i,Z),Dn=(e,i,t,n,a,r)=>{if(!e)return H;let s=1;if(i===Mo&&(i=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>qo||t!==Ft||n<8||n>15||i<0||i>9||r<0||r>Zo||n===8&&s!==1)return ne(e,H);n===8&&(n=9);let o=new es;return e.state=o,o.strm=e,o.status=he,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+E-1)/E),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=i,o.strategy=r,o.method=t,In(e)},is=(e,i)=>Dn(e,i,Ft,Po,jo,Lo),ns=(e,i)=>{if(De(e)||i>Zi||i<0)return e?ne(e,H):H;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===xe&&i!==j)return ne(e,e.avail_out===0?Jt:H);let n=t.last_flush;if(t.last_flush=i,t.pending!==0){if(q(e),e.avail_out===0)return t.last_flush=-1,Z}else if(e.avail_in===0&&Ni(i)<=Ni(n)&&i!==j)return ne(e,Jt);if(t.status===xe&&e.avail_in!==0)return ne(e,Jt);if(t.status===he&&t.wrap===0&&(t.status=ie),t.status===he){let a=Ft+(t.w_bits-8<<4)<<8,r=-1;if(t.strategy>=Dt||t.level<2?r=0:t.level<6?r=1:t.level===6?r=2:r=3,a|=r<<6,t.strstart!==0&&(a|=Ko),a+=31-a%31,ve(t,a),t.strstart!==0&&(ve(t,e.adler>>>16),ve(t,e.adler&65535)),e.adler=1,t.status=ie,q(e),t.pending!==0)return t.last_flush=-1,Z}if(t.status===yi){if(e.adler=0,A(t,31),A(t,139),A(t,8),t.gzhead)A(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),A(t,t.gzhead.time&255),A(t,t.gzhead.time>>8&255),A(t,t.gzhead.time>>16&255),A(t,t.gzhead.time>>24&255),A(t,t.level===9?2:t.strategy>=Dt||t.level<2?4:0),A(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(A(t,t.gzhead.extra.length&255),A(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=D(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=di;else if(A(t,0),A(t,0),A(t,0),A(t,0),A(t,0),A(t,t.level===9?2:t.strategy>=Dt||t.level<2?4:0),A(t,Xo),t.status=ie,q(e),t.pending!==0)return t.last_flush=-1,Z}if(t.status===di){if(t.gzhead.extra){let a=t.pending,r=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+r>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=o,q(e),t.pending!==0)return t.last_flush=-1,Z;a=0,r-=o}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+r),t.pending),t.pending+=r,t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=ui}if(t.status===ui){if(t.gzhead.name){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),q(e),t.pending!==0)return t.last_flush=-1,Z;a=0}t.gzindex<t.gzhead.name.length?r=t.gzhead.name.charCodeAt(t.gzindex++)&255:r=0,A(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=hi}if(t.status===hi){if(t.gzhead.comment){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a)),q(e),t.pending!==0)return t.last_flush=-1,Z;a=0}t.gzindex<t.gzhead.comment.length?r=t.gzhead.comment.charCodeAt(t.gzindex++)&255:r=0,A(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=D(e.adler,t.pending_buf,t.pending-a,a))}t.status=pi}if(t.status===pi){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(q(e),t.pending!==0))return t.last_flush=-1,Z;A(t,e.adler&255),A(t,e.adler>>8&255),e.adler=0}if(t.status=ie,q(e),t.pending!==0)return t.last_flush=-1,Z}if(e.avail_in!==0||t.lookahead!==0||i!==J&&t.status!==xe){let a=t.level===0?Cn(t,i):t.strategy===Dt?Jo(t,i):t.strategy===Do?Vo(t,i):ye[t.level].func(t,i);if((a===re||a===we)&&(t.status=xe),a===L||a===re)return e.avail_out===0&&(t.last_flush=-1),Z;if(a===be&&(i===Ro?Ao(t):i!==Zi&&(_i(t,0,0,!1),i===To&&(G(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),q(e),e.avail_out===0))return t.last_flush=-1,Z}return i!==j?Z:t.wrap<=0?Li:(t.wrap===2?(A(t,e.adler&255),A(t,e.adler>>8&255),A(t,e.adler>>16&255),A(t,e.adler>>24&255),A(t,e.total_in&255),A(t,e.total_in>>8&255),A(t,e.total_in>>16&255),A(t,e.total_in>>24&255)):(ve(t,e.adler>>>16),ve(t,e.adler&65535)),q(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Z:Li)},as=e=>{if(De(e))return H;let i=e.state.status;return e.state=null,i===ie?ne(e,Co):Z},rs=(e,i)=>{let t=i.length;if(De(e))return H;let n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==he||n.lookahead)return H;if(a===1&&(e.adler=Re(e.adler,i,t,0)),n.wrap=0,t>=n.w_size){a===0&&(G(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(i.subarray(t-n.w_size,t),0),i=d,t=n.w_size}let r=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=i,pe(n);n.lookahead>=E;){let d=n.strstart,l=n.lookahead-(E-1);do n.ins_h=Q(n,n.ins_h,n.window[d+E-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--l);n.strstart=d,n.lookahead=E-1,pe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=E-1,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=r,n.wrap=a,Z},ls=is,os=Dn,ss=In,fs=Mn,_s=ts,cs=ns,ds=as,us=rs,hs="pako deflate (from Nodeca project)",ke={deflateInit:ls,deflateInit2:os,deflateReset:ss,deflateResetKeep:fs,deflateSetHeader:_s,deflate:cs,deflateEnd:ds,deflateSetDictionary:us,deflateInfo:hs},ps=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),gs=function(e){let i=Array.prototype.slice.call(arguments,1);for(;i.length;){let t=i.shift();if(!!t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)ps(t,n)&&(e[n]=t[n])}}return e},bs=e=>{let i=0;for(let n=0,a=e.length;n<a;n++)i+=e[n].length;let t=new Uint8Array(i);for(let n=0,a=0,r=e.length;n<r;n++){let s=e[n];t.set(s,a),a+=s.length}return t},Ht={assign:gs,flattenChunks:bs},Zn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Zn=!1}var Te=new Uint8Array(256);for(let e=0;e<256;e++)Te[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Te[254]=Te[254]=1;var ws=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let i,t,n,a,r,s=e.length,o=0;for(a=0;a<s;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(i=new Uint8Array(o),r=0,a=0;r<o;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?i[r++]=t:t<2048?(i[r++]=192|t>>>6,i[r++]=128|t&63):t<65536?(i[r++]=224|t>>>12,i[r++]=128|t>>>6&63,i[r++]=128|t&63):(i[r++]=240|t>>>18,i[r++]=128|t>>>12&63,i[r++]=128|t>>>6&63,i[r++]=128|t&63);return i},vs=(e,i)=>{if(i<65534&&e.subarray&&Zn)return String.fromCharCode.apply(null,e.length===i?e:e.subarray(0,i));let t="";for(let n=0;n<i;n++)t+=String.fromCharCode(e[n]);return t},xs=(e,i)=>{let t=i||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,i));let n,a,r=new Array(t*2);for(a=0,n=0;n<t;){let s=e[n++];if(s<128){r[a++]=s;continue}let o=Te[s];if(o>4){r[a++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<t;)s=s<<6|e[n++]&63,o--;if(o>1){r[a++]=65533;continue}s<65536?r[a++]=s:(s-=65536,r[a++]=55296|s>>10&1023,r[a++]=56320|s&1023)}return vs(r,a)},ys=(e,i)=>{i=i||e.length,i>e.length&&(i=e.length);let t=i-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?i:t+Te[e[t]]>i?t:i},Ce={string2buf:ws,buf2string:xs,utf8border:ys};function ms(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ln=ms,Nn=Object.prototype.toString,{Z_NO_FLUSH:ks,Z_SYNC_FLUSH:Ss,Z_FULL_FLUSH:Es,Z_FINISH:zs,Z_OK:Ut,Z_STREAM_END:Os,Z_DEFAULT_COMPRESSION:As,Z_DEFAULT_STRATEGY:Rs,Z_DEFLATED:Ts}=oe;function Ze(e){this.options=Ht.assign({level:As,method:Ts,chunkSize:16384,windowBits:15,memLevel:8,strategy:Rs},e||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ln,this.strm.avail_out=0;let t=ke.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(t!==Ut)throw new Error(ae[t]);if(i.header&&ke.deflateSetHeader(this.strm,i.header),i.dictionary){let n;if(typeof i.dictionary=="string"?n=Ce.string2buf(i.dictionary):Nn.call(i.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(i.dictionary):n=i.dictionary,t=ke.deflateSetDictionary(this.strm,n),t!==Ut)throw new Error(ae[t]);this._dict_set=!0}}Ze.prototype.push=function(e,i){let t=this.strm,n=this.options.chunkSize,a,r;if(this.ended)return!1;for(i===~~i?r=i:r=i===!0?zs:ks,typeof e=="string"?t.input=Ce.string2buf(e):Nn.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(r===Ss||r===Es)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=ke.deflate(t,r),a===Os)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=ke.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Ut;if(t.avail_out===0){this.onData(t.output);continue}if(r>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Ze.prototype.onData=function(e){this.chunks.push(e)};Ze.prototype.onEnd=function(e){e===Ut&&(this.result=Ht.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function mi(e,i){let t=new Ze(i);if(t.push(e,!0),t.err)throw t.msg||ae[t.err];return t.result}function Cs(e,i){return i=i||{},i.raw=!0,mi(e,i)}function Ms(e,i){return i=i||{},i.gzip=!0,mi(e,i)}var Is=Ze,Ds=mi,Zs=Cs,Ls=Ms,Ns=oe,qs={Deflate:Is,deflate:Ds,deflateRaw:Zs,gzip:Ls,constants:Ns},Zt=16209,Ps=16191,js=function(i,t){let n,a,r,s,o,d,l,f,v,u,_,p,C,y,x,R,m,h,O,I,g,T,z,w,S=i.state;n=i.next_in,z=i.input,a=n+(i.avail_in-5),r=i.next_out,w=i.output,s=r-(t-i.avail_out),o=r+(i.avail_out-257),d=S.dmax,l=S.wsize,f=S.whave,v=S.wnext,u=S.window,_=S.hold,p=S.bits,C=S.lencode,y=S.distcode,x=(1<<S.lenbits)-1,R=(1<<S.distbits)-1;e:do{p<15&&(_+=z[n++]<<p,p+=8,_+=z[n++]<<p,p+=8),m=C[_&x];t:for(;;){if(h=m>>>24,_>>>=h,p-=h,h=m>>>16&255,h===0)w[r++]=m&65535;else if(h&16){O=m&65535,h&=15,h&&(p<h&&(_+=z[n++]<<p,p+=8),O+=_&(1<<h)-1,_>>>=h,p-=h),p<15&&(_+=z[n++]<<p,p+=8,_+=z[n++]<<p,p+=8),m=y[_&R];i:for(;;){if(h=m>>>24,_>>>=h,p-=h,h=m>>>16&255,h&16){if(I=m&65535,h&=15,p<h&&(_+=z[n++]<<p,p+=8,p<h&&(_+=z[n++]<<p,p+=8)),I+=_&(1<<h)-1,I>d){i.msg="invalid distance too far back",S.mode=Zt;break e}if(_>>>=h,p-=h,h=r-s,I>h){if(h=I-h,h>f&&S.sane){i.msg="invalid distance too far back",S.mode=Zt;break e}if(g=0,T=u,v===0){if(g+=l-h,h<O){O-=h;do w[r++]=u[g++];while(--h);g=r-I,T=w}}else if(v<h){if(g+=l+v-h,h-=v,h<O){O-=h;do w[r++]=u[g++];while(--h);if(g=0,v<O){h=v,O-=h;do w[r++]=u[g++];while(--h);g=r-I,T=w}}}else if(g+=v-h,h<O){O-=h;do w[r++]=u[g++];while(--h);g=r-I,T=w}for(;O>2;)w[r++]=T[g++],w[r++]=T[g++],w[r++]=T[g++],O-=3;O&&(w[r++]=T[g++],O>1&&(w[r++]=T[g++]))}else{g=r-I;do w[r++]=w[g++],w[r++]=w[g++],w[r++]=w[g++],O-=3;while(O>2);O&&(w[r++]=w[g++],O>1&&(w[r++]=w[g++]))}}else if(h&64){i.msg="invalid distance code",S.mode=Zt;break e}else{m=y[(m&65535)+(_&(1<<h)-1)];continue i}break}}else if(h&64)if(h&32){S.mode=Ps;break e}else{i.msg="invalid literal/length code",S.mode=Zt;break e}else{m=C[(m&65535)+(_&(1<<h)-1)];continue t}break}}while(n<a&&r<o);O=p>>3,n-=O,p-=O<<3,_&=(1<<p)-1,i.next_in=n,i.next_out=r,i.avail_in=n<a?5+(a-n):5-(n-a),i.avail_out=r<o?257+(o-r):257-(r-o),S.hold=_,S.bits=p},de=15,qi=852,Pi=592,ji=0,ei=1,Ui=2,Us=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$s=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Fs=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hs=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Bs=(e,i,t,n,a,r,s,o)=>{let d=o.bits,l=0,f=0,v=0,u=0,_=0,p=0,C=0,y=0,x=0,R=0,m,h,O,I,g,T=null,z,w=new Uint16Array(de+1),S=new Uint16Array(de+1),ee=null,Oi,Mt,It;for(l=0;l<=de;l++)w[l]=0;for(f=0;f<n;f++)w[i[t+f]]++;for(_=d,u=de;u>=1&&w[u]===0;u--);if(_>u&&(_=u),u===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,o.bits=1,0;for(v=1;v<u&&w[v]===0;v++);for(_<v&&(_=v),y=1,l=1;l<=de;l++)if(y<<=1,y-=w[l],y<0)return-1;if(y>0&&(e===ji||u!==1))return-1;for(S[1]=0,l=1;l<de;l++)S[l+1]=S[l]+w[l];for(f=0;f<n;f++)i[t+f]!==0&&(s[S[i[t+f]]++]=f);if(e===ji?(T=ee=s,z=20):e===ei?(T=Us,ee=$s,z=257):(T=Fs,ee=Hs,z=0),R=0,f=0,l=v,g=r,p=_,C=0,O=-1,x=1<<_,I=x-1,e===ei&&x>qi||e===Ui&&x>Pi)return 1;for(;;){Oi=l-C,s[f]+1<z?(Mt=0,It=s[f]):s[f]>=z?(Mt=ee[s[f]-z],It=T[s[f]-z]):(Mt=32+64,It=0),m=1<<l-C,h=1<<p,v=h;do h-=m,a[g+(R>>C)+h]=Oi<<24|Mt<<16|It|0;while(h!==0);for(m=1<<l-1;R&m;)m>>=1;if(m!==0?(R&=m-1,R+=m):R=0,f++,--w[l]===0){if(l===u)break;l=i[t+s[f]]}if(l>_&&(R&I)!==O){for(C===0&&(C=_),g+=v,p=l-C,y=1<<p;p+C<u&&(y-=w[p+C],!(y<=0));)p++,y<<=1;if(x+=1<<p,e===ei&&x>qi||e===Ui&&x>Pi)return 1;O=R&I,a[O]=_<<24|p<<16|g-r|0}}return R!==0&&(a[g+R]=l-C<<24|64<<16|0),o.bits=_,0},Se=Bs,Ws=0,qn=1,Pn=2,{Z_FINISH:$i,Z_BLOCK:Ks,Z_TREES:Lt,Z_OK:le,Z_STREAM_END:Xs,Z_NEED_DICT:Gs,Z_STREAM_ERROR:U,Z_DATA_ERROR:jn,Z_MEM_ERROR:Un,Z_BUF_ERROR:Ys,Z_DEFLATED:Fi}=oe,Bt=16180,Hi=16181,Bi=16182,Wi=16183,Ki=16184,Xi=16185,Gi=16186,Yi=16187,Vi=16188,Ji=16189,$t=16190,W=16191,ti=16192,Qi=16193,ii=16194,en=16195,tn=16196,nn=16197,an=16198,Nt=16199,qt=16200,rn=16201,ln=16202,on=16203,sn=16204,fn=16205,ni=16206,_n=16207,cn=16208,M=16209,$n=16210,Fn=16211,Vs=852,Js=592,Qs=15,ef=Qs,dn=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function tf(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var se=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.mode<Bt||i.mode>Fn?1:0},Hn=e=>{if(se(e))return U;let i=e.state;return e.total_in=e.total_out=i.total=0,e.msg="",i.wrap&&(e.adler=i.wrap&1),i.mode=Bt,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(Vs),i.distcode=i.distdyn=new Int32Array(Js),i.sane=1,i.back=-1,le},Bn=e=>{if(se(e))return U;let i=e.state;return i.wsize=0,i.whave=0,i.wnext=0,Hn(e)},Wn=(e,i)=>{let t;if(se(e))return U;let n=e.state;return i<0?(t=0,i=-i):(t=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?U:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=t,n.wbits=i,Bn(e))},Kn=(e,i)=>{if(!e)return U;let t=new tf;e.state=t,t.strm=e,t.window=null,t.mode=Bt;let n=Wn(e,i);return n!==le&&(e.state=null),n},nf=e=>Kn(e,ef),un=!0,ai,ri,af=e=>{if(un){ai=new Int32Array(512),ri=new Int32Array(32);let i=0;for(;i<144;)e.lens[i++]=8;for(;i<256;)e.lens[i++]=9;for(;i<280;)e.lens[i++]=7;for(;i<288;)e.lens[i++]=8;for(Se(qn,e.lens,0,288,ai,0,e.work,{bits:9}),i=0;i<32;)e.lens[i++]=5;Se(Pn,e.lens,0,32,ri,0,e.work,{bits:5}),un=!1}e.lencode=ai,e.lenbits=9,e.distcode=ri,e.distbits=5},Xn=(e,i,t,n)=>{let a,r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(i.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),r.window.set(i.subarray(t-n,t-n+a),r.wnext),n-=a,n?(r.window.set(i.subarray(t-n,t),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},rf=(e,i)=>{let t,n,a,r,s,o,d,l,f,v,u,_,p,C,y=0,x,R,m,h,O,I,g,T,z=new Uint8Array(4),w,S,ee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(se(e)||!e.output||!e.input&&e.avail_in!==0)return U;t=e.state,t.mode===W&&(t.mode=ti),s=e.next_out,a=e.output,d=e.avail_out,r=e.next_in,n=e.input,o=e.avail_in,l=t.hold,f=t.bits,v=o,u=d,T=le;e:for(;;)switch(t.mode){case Bt:if(t.wrap===0){t.mode=ti;break}for(;f<16;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,z[0]=l&255,z[1]=l>>>8&255,t.check=D(t.check,z,2,0),l=0,f=0,t.mode=Hi;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=M;break}if((l&15)!==Fi){e.msg="unknown compression method",t.mode=M;break}if(l>>>=4,f-=4,g=(l&15)+8,t.wbits===0&&(t.wbits=g),g>15||g>t.wbits){e.msg="invalid window size",t.mode=M;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?Ji:W,l=0,f=0;break;case Hi:for(;f<16;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==Fi){e.msg="unknown compression method",t.mode=M;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=M;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(z[0]=l&255,z[1]=l>>>8&255,t.check=D(t.check,z,2,0)),l=0,f=0,t.mode=Bi;case Bi:for(;f<32;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(z[0]=l&255,z[1]=l>>>8&255,z[2]=l>>>16&255,z[3]=l>>>24&255,t.check=D(t.check,z,4,0)),l=0,f=0,t.mode=Wi;case Wi:for(;f<16;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(z[0]=l&255,z[1]=l>>>8&255,t.check=D(t.check,z,2,0)),l=0,f=0,t.mode=Ki;case Ki:if(t.flags&1024){for(;f<16;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(z[0]=l&255,z[1]=l>>>8&255,t.check=D(t.check,z,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=Xi;case Xi:if(t.flags&1024&&(_=t.length,_>o&&(_=o),_&&(t.head&&(g=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(r,r+_),g)),t.flags&512&&t.wrap&4&&(t.check=D(t.check,n,_,r)),o-=_,r+=_,t.length-=_),t.length))break e;t.length=0,t.mode=Gi;case Gi:if(t.flags&2048){if(o===0)break e;_=0;do g=n[r+_++],t.head&&g&&t.length<65536&&(t.head.name+=String.fromCharCode(g));while(g&&_<o);if(t.flags&512&&t.wrap&4&&(t.check=D(t.check,n,_,r)),o-=_,r+=_,g)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Yi;case Yi:if(t.flags&4096){if(o===0)break e;_=0;do g=n[r+_++],t.head&&g&&t.length<65536&&(t.head.comment+=String.fromCharCode(g));while(g&&_<o);if(t.flags&512&&t.wrap&4&&(t.check=D(t.check,n,_,r)),o-=_,r+=_,g)break e}else t.head&&(t.head.comment=null);t.mode=Vi;case Vi:if(t.flags&512){for(;f<16;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=M;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=W;break;case Ji:for(;f<32;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}e.adler=t.check=dn(l),l=0,f=0,t.mode=$t;case $t:if(t.havedict===0)return e.next_out=s,e.avail_out=d,e.next_in=r,e.avail_in=o,t.hold=l,t.bits=f,Gs;e.adler=t.check=1,t.mode=W;case W:if(i===Ks||i===Lt)break e;case ti:if(t.last){l>>>=f&7,f-=f&7,t.mode=ni;break}for(;f<3;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=Qi;break;case 1:if(af(t),t.mode=Nt,i===Lt){l>>>=2,f-=2;break e}break;case 2:t.mode=tn;break;case 3:e.msg="invalid block type",t.mode=M}l>>>=2,f-=2;break;case Qi:for(l>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=M;break}if(t.length=l&65535,l=0,f=0,t.mode=ii,i===Lt)break e;case ii:t.mode=en;case en:if(_=t.length,_){if(_>o&&(_=o),_>d&&(_=d),_===0)break e;a.set(n.subarray(r,r+_),s),o-=_,r+=_,d-=_,s+=_,t.length-=_;break}t.mode=W;break;case tn:for(;f<14;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=M;break}t.have=0,t.mode=nn;case nn:for(;t.have<t.ncode;){for(;f<3;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}t.lens[ee[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[ee[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,w={bits:t.lenbits},T=Se(Ws,t.lens,0,19,t.lencode,0,t.work,w),t.lenbits=w.bits,T){e.msg="invalid code lengths set",t.mode=M;break}t.have=0,t.mode=an;case an:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[l&(1<<t.lenbits)-1],x=y>>>24,R=y>>>16&255,m=y&65535,!(x<=f);){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(m<16)l>>>=x,f-=x,t.lens[t.have++]=m;else{if(m===16){for(S=x+2;f<S;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(l>>>=x,f-=x,t.have===0){e.msg="invalid bit length repeat",t.mode=M;break}g=t.lens[t.have-1],_=3+(l&3),l>>>=2,f-=2}else if(m===17){for(S=x+3;f<S;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}l>>>=x,f-=x,g=0,_=3+(l&7),l>>>=3,f-=3}else{for(S=x+7;f<S;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}l>>>=x,f-=x,g=0,_=11+(l&127),l>>>=7,f-=7}if(t.have+_>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=M;break}for(;_--;)t.lens[t.have++]=g}}if(t.mode===M)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=M;break}if(t.lenbits=9,w={bits:t.lenbits},T=Se(qn,t.lens,0,t.nlen,t.lencode,0,t.work,w),t.lenbits=w.bits,T){e.msg="invalid literal/lengths set",t.mode=M;break}if(t.distbits=6,t.distcode=t.distdyn,w={bits:t.distbits},T=Se(Pn,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,w),t.distbits=w.bits,T){e.msg="invalid distances set",t.mode=M;break}if(t.mode=Nt,i===Lt)break e;case Nt:t.mode=qt;case qt:if(o>=6&&d>=258){e.next_out=s,e.avail_out=d,e.next_in=r,e.avail_in=o,t.hold=l,t.bits=f,js(e,u),s=e.next_out,a=e.output,d=e.avail_out,r=e.next_in,n=e.input,o=e.avail_in,l=t.hold,f=t.bits,t.mode===W&&(t.back=-1);break}for(t.back=0;y=t.lencode[l&(1<<t.lenbits)-1],x=y>>>24,R=y>>>16&255,m=y&65535,!(x<=f);){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(R&&!(R&240)){for(h=x,O=R,I=m;y=t.lencode[I+((l&(1<<h+O)-1)>>h)],x=y>>>24,R=y>>>16&255,m=y&65535,!(h+x<=f);){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}l>>>=h,f-=h,t.back+=h}if(l>>>=x,f-=x,t.back+=x,t.length=m,R===0){t.mode=fn;break}if(R&32){t.back=-1,t.mode=W;break}if(R&64){e.msg="invalid literal/length code",t.mode=M;break}t.extra=R&15,t.mode=rn;case rn:if(t.extra){for(S=t.extra;f<S;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ln;case ln:for(;y=t.distcode[l&(1<<t.distbits)-1],x=y>>>24,R=y>>>16&255,m=y&65535,!(x<=f);){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(!(R&240)){for(h=x,O=R,I=m;y=t.distcode[I+((l&(1<<h+O)-1)>>h)],x=y>>>24,R=y>>>16&255,m=y&65535,!(h+x<=f);){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}l>>>=h,f-=h,t.back+=h}if(l>>>=x,f-=x,t.back+=x,R&64){e.msg="invalid distance code",t.mode=M;break}t.offset=m,t.extra=R&15,t.mode=on;case on:if(t.extra){for(S=t.extra;f<S;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=M;break}t.mode=sn;case sn:if(d===0)break e;if(_=u-d,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=M;break}_>t.wnext?(_-=t.wnext,p=t.wsize-_):p=t.wnext-_,_>t.length&&(_=t.length),C=t.window}else C=a,p=s-t.offset,_=t.length;_>d&&(_=d),d-=_,t.length-=_;do a[s++]=C[p++];while(--_);t.length===0&&(t.mode=qt);break;case fn:if(d===0)break e;a[s++]=t.length,d--,t.mode=qt;break;case ni:if(t.wrap){for(;f<32;){if(o===0)break e;o--,l|=n[r++]<<f,f+=8}if(u-=d,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?D(t.check,a,u,s-u):Re(t.check,a,u,s-u)),u=d,t.wrap&4&&(t.flags?l:dn(l))!==t.check){e.msg="incorrect data check",t.mode=M;break}l=0,f=0}t.mode=_n;case _n:if(t.wrap&&t.flags){for(;f<32;){if(o===0)break e;o--,l+=n[r++]<<f,f+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=M;break}l=0,f=0}t.mode=cn;case cn:T=Xs;break e;case M:T=jn;break e;case $n:return Un;case Fn:default:return U}return e.next_out=s,e.avail_out=d,e.next_in=r,e.avail_in=o,t.hold=l,t.bits=f,(t.wsize||u!==e.avail_out&&t.mode<M&&(t.mode<ni||i!==$i))&&Xn(e,e.output,e.next_out,u-e.avail_out),v-=e.avail_in,u-=e.avail_out,e.total_in+=v,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?D(t.check,a,u,e.next_out-u):Re(t.check,a,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===W?128:0)+(t.mode===Nt||t.mode===ii?256:0),(v===0&&u===0||i===$i)&&T===le&&(T=Ys),T},lf=e=>{if(se(e))return U;let i=e.state;return i.window&&(i.window=null),e.state=null,le},of=(e,i)=>{if(se(e))return U;let t=e.state;return t.wrap&2?(t.head=i,i.done=!1,le):U},sf=(e,i)=>{let t=i.length,n,a,r;return se(e)||(n=e.state,n.wrap!==0&&n.mode!==$t)?U:n.mode===$t&&(a=1,a=Re(a,i,t,0),a!==n.check)?jn:(r=Xn(e,i,t,t),r?(n.mode=$n,Un):(n.havedict=1,le))},ff=Bn,_f=Wn,cf=Hn,df=nf,uf=Kn,hf=rf,pf=lf,gf=of,bf=sf,wf="pako inflate (from Nodeca project)",X={inflateReset:ff,inflateReset2:_f,inflateResetKeep:cf,inflateInit:df,inflateInit2:uf,inflate:hf,inflateEnd:pf,inflateGetHeader:gf,inflateSetDictionary:bf,inflateInfo:wf};function vf(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xf=vf,Gn=Object.prototype.toString,{Z_NO_FLUSH:yf,Z_FINISH:mf,Z_OK:Me,Z_STREAM_END:li,Z_NEED_DICT:oi,Z_STREAM_ERROR:kf,Z_DATA_ERROR:hn,Z_MEM_ERROR:Sf}=oe;function Le(e){this.options=Ht.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(e&&e.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15||(i.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ln,this.strm.avail_out=0;let t=X.inflateInit2(this.strm,i.windowBits);if(t!==Me)throw new Error(ae[t]);if(this.header=new xf,X.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Ce.string2buf(i.dictionary):Gn.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(t=X.inflateSetDictionary(this.strm,i.dictionary),t!==Me)))throw new Error(ae[t])}Le.prototype.push=function(e,i){let t=this.strm,n=this.options.chunkSize,a=this.options.dictionary,r,s,o;if(this.ended)return!1;for(i===~~i?s=i:s=i===!0?mf:yf,Gn.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),r=X.inflate(t,s),r===oi&&a&&(r=X.inflateSetDictionary(t,a),r===Me?r=X.inflate(t,s):r===hn&&(r=oi));t.avail_in>0&&r===li&&t.state.wrap>0&&e[t.next_in]!==0;)X.inflateReset(t),r=X.inflate(t,s);switch(r){case kf:case hn:case oi:case Sf:return this.onEnd(r),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||r===li))if(this.options.to==="string"){let d=Ce.utf8border(t.output,t.next_out),l=t.next_out-d,f=Ce.buf2string(t.output,d);t.next_out=l,t.avail_out=n-l,l&&t.output.set(t.output.subarray(d,d+l),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===Me&&o===0)){if(r===li)return r=X.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Le.prototype.onData=function(e){this.chunks.push(e)};Le.prototype.onEnd=function(e){e===Me&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ht.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function ki(e,i){let t=new Le(i);if(t.push(e),t.err)throw t.msg||ae[t.err];return t.result}function Ef(e,i){return i=i||{},i.raw=!0,ki(e,i)}var zf=Le,Of=ki,Af=Ef,Rf=ki,Tf=oe,Cf={Inflate:zf,inflate:Of,inflateRaw:Af,ungzip:Rf,constants:Tf},{Deflate:Mf,deflate:If,deflateRaw:Df,gzip:Zf}=qs,{Inflate:Lf,inflate:Nf,inflateRaw:qf,ungzip:Pf}=Cf,jf=Mf,Uf=If,$f=Df,Ff=Zf,Hf=Lf,Bf=Nf,Wf=qf,Kf=Pf,Xf=oe,Yn={Deflate:jf,deflate:Uf,deflateRaw:$f,gzip:Ff,Inflate:Hf,inflate:Bf,inflateRaw:Wf,ungzip:Kf,constants:Xf};var Vn=async()=>{let i=await(await fetch("./dist/input")).arrayBuffer();return Yn.ungzip(i,{to:"string"})};var Ct=Yl($l(),1),Ec=e=>e.split(`
`).map(i=>{let[t,n]=i.split(" ");return t==="noop"?{cmd:t}:{cmd:t,val:Number(n)}});function*Fl(e){let i=Ec(e),t=1,n=0,a=[],r=!1,s=()=>{n++;let o=(n-1)%40;r=o>=t-1&&o<=t+1,a.push(r?"#":" ")};for(let o of i)o.cmd==="noop"?(s(),yield{screen:(0,Ct.chunk_)(40,a),register:t,cycle:n,lit:r}):(s(),yield{screen:(0,Ct.chunk_)(40,a),register:t,cycle:n,lit:r},s(),yield{screen:(0,Ct.chunk_)(40,a),register:t,cycle:n,lit:r},t+=o.val);return[(0,Ct.chunk_)(40,a),t,n,r]}var zc=e=>new Promise(i=>setTimeout(i,e)),Oc=async()=>{let e=await Vn(),i=Fl(e),t=200,n=40,a=6,r=new Ri("canvas",{gapSize:4,tileSize:24,tileColor:"#202",tileShape:"circle",background:"#101",cameraWidth:n,cameraHeight:a}),s=[];for(let{screen:o,register:d,cycle:l,lit:f}of i){r.clear(),r.fillArea(6,40);let v=Array.from({length:6},(_,p)=>Array.from({length:3},(C,y)=>({y:p,x:y+d-1}))).flat().filter(_=>_.x<40&&_.y<6);r.drawPoints(v,()=>({tileColor:"#ffffff22"})),r.drawGrid(o,()=>({tileColor:"crimson"}));let u={x:(l-1)%40,y:Math.floor((l-1)/40)};u.y<6&&r.drawPoints([u],()=>({tileColor:f?"#ffffff":"#ffffff77"})),await zc(t),s=o}r.clear(),r.fillArea(6,40),r.drawGrid(s,()=>({tileColor:"crimson"}))};Oc();})();
